(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){},146:function(e,t,a){e.exports=a(254)},254:function(e,t,a){"use strict";a.r(t);a(147),a(200);var n=a(0),o=a.n(n),r=a(90),s=a.n(r),l=a(30),i=a.n(l),c=a(36),m=a(130),u=a(131),d=a(144),h=a(132),f=a(145),p=a(41),v=(a(226),a(124),a(138)),E=a.n(v),k=a(96),g=a.n(k),_=a(143),b=a.n(_),y=a(67),N=a.n(y),w=a(139),S=a.n(w),C=a(51),B=a.n(C),A=a(52),M=a.n(A),F=a(53),j=a.n(F),x=a(97),P=a.n(x),Z=a(54),T=a.n(Z),O=a(35),W=a.n(O),L=a(59),z=a.n(L),G=a(141),H=a.n(G),Q=a(34),I=a.n(Q),K=a(68),R=a.n(K),V=a(58),D=a.n(V),q=a(142),J=a.n(q),U=a(140),Y=a.n(U),X=a(17),$=a.n(X),ee=a(29),te=a.n(ee),ae=a(91),ne=a.n(ae),oe=a(64),re=a.n(oe),se=a(63),le=a.n(se),ie=a(12),ce=a.n(ie),me=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement(le.a,{style:{marginTop:"8px"},onClick:function(){return a.getProfile()},size:"l",before:o.a.createElement(re.a,{style:{marginTop:"5px",marginLeft:"5px",background:"linear-gradient(to bottom, #ff5adf, #ff8d82)"},size:55,src:a.state.photo_200})},o.a.createElement("div",{className:"namehome"},a.state.firstname," ",a.state.lastname),o.a.createElement("div",{className:"nearnamehome"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f: ",Object.keys(a.state.historylenght).length,", \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",Object.keys(a.state.favoritelength).length)),o.a.createElement("div",{className:"titless"},o.a.createElement(te.a,null,"\u041a\u043d\u0438\u0433\u0438")),o.a.createElement("div",{className:"SearchMobile__input"},o.a.createElement("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a",value:a.state.searchQuery,onChange:a.inputChange}),o.a.createElement("div",{className:"SearchMobile__to-filters-wrapper",onClick:function(){return a.setState({activeModal:"search"})}},o.a.createElement("span",{className:"SearchMobile__to-filters"}))),0===a.state.searchQuery.length?1===a.state.is_group_member?o.a.createElement(ne.a,{slideWidth:"60%",style:{height:"165px"}},o.a.createElement("div",{className:"hometop-near_first",onClick:function(){return a.goGenresGetBooks()}},o.a.createElement("div",{className:"hometop-textnear"},"\u041f\u043e \u0436\u0430\u043d\u0440\u0430\u043c")),o.a.createElement("div",{style:{marginLeft:"22px"},className:"hometop-near_first",onClick:function(){return a.goTop()}},o.a.createElement("div",{className:"hometop-textnear"},"\u0422\u043e\u043f \u043a\u043d\u0438\u0433")),o.a.createElement("div",{style:{marginLeft:"22px"},className:"hometop-near_first",onClick:function(){return a.goBiography()}},o.a.createElement("div",{className:"hometop-textnear"},"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u0438"))):o.a.createElement(ne.a,{slideWidth:"60%",style:{height:"165px"}},o.a.createElement("div",{className:"hometop-near_first",onClick:function(){return a.goGenresGetBooks()}},o.a.createElement("div",{className:"hometop-textnear"},"\u041f\u043e \u0436\u0430\u043d\u0440\u0430\u043c")),o.a.createElement("div",{style:{marginLeft:"22px"},className:"hometop-near_first",onClick:function(){return a.goTop()}},o.a.createElement("div",{className:"hometop-textnear"},"\u0422\u043e\u043f \u043a\u043d\u0438\u0433")),o.a.createElement("div",{style:{marginLeft:"22px"},className:"hometop-near_first",onClick:function(){return a.Subscribe()}},o.a.createElement("img",{src:"https://sun9-21.userapi.com/c857420/v857420398/1177c4/RGksvSPvR6A.jpg"})),o.a.createElement("div",{style:{marginLeft:"22px"},className:"hometop-near_first",onClick:function(){return a.goBiography()}},o.a.createElement("div",{className:"hometop-textnear"},"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u0438"))):null,o.a.createElement("br",null),"0"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?o.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.books.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors[0].first_name," ",e.authors[0].last_name),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440:",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},e.name)}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}):null,"0"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?null:a.state.searchresult.authors.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),o.a.createElement("div",{className:"contentauthor"},e.activity),o.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ",e.lang)),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({authortitle:e.first_name,author_id_forshare:e.id,authorlast:e.last_name}),a.openModalAuthor(e.id)}},o.a.createElement(ce.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}):null,"1"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?o.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors[0].first_name," ",e.authors[0].last_name),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440:",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},e.name)}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}):null,"2"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?o.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),o.a.createElement("div",{className:"contentauthor"},e.activity),o.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ",e.lang)),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({author_id_forshare:e.id,authortitle:e.first_name,authorlast:e.last_name}),a.openModalAuthor(e.id)}},o.a.createElement(ce.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}):null,a.state.searchQuery.length>=1?null:a.state.listbooks_result.length>=10?o.a.createElement(te.a,null,o.a.createElement(I.a,{size:"xl",level:"secondary",onClick:function(){a.setState({offset_home:a.state.offset_home+10}),a.LoadBooks_Load()},style:{marginRight:8}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451")):null)},ue=a(18),de=a.n(ue),he=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("header",null,"\xa0"),o.a.createElement("div",{className:"titlesbiography",onClick:function(){return a.goBack()}},o.a.createElement(te.a,null,o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," \u0410\u0432\u0442\u043e\u0440\u044b")),a.state.biography_array.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),o.a.createElement("div",{className:"contentauthor"},e.activity),o.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ",e.lang)),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({authortitle:e.first_name,authorlast:e.last_name}),a.openModalAuthor(e.id)}},o.a.createElement(ce.a,null))))}))},fe=a(65),pe=a.n(fe),ve=a(133),Ee=a.n(ve),ke=a(66),ge=a.n(ke),_e=a(134),be=a.n(_e),ye=a(135),Ne=a.n(ye),we=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("div",null,o.a.createElement("div",{className:"banner"},o.a.createElement("div",{className:"icontitle",onClick:function(){return a.goBack()}},o.a.createElement(de.a,{width:28,height:28})),o.a.createElement("img",{alt:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430",className:"banner__img",src:a.state.selected_book.cover})),o.a.createElement("div",{className:"titlebooksinfo"},a.state.selected_book.name),o.a.createElement("div",{className:"authorbooksinfo",onClick:function(){return a.goAuthor(a.state.id_author)}},a.state.selected_book.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name)})),o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("div",{className:"rating",style:{marginLeft:"13px"}},o.a.createElement("span",{className:"raytingdal"},a.state.selected_book.rating),o.a.createElement("span",{className:"booksinfoview"},"(",a.state.selected_book.rated_count,")"),o.a.createElement("input",{type:"radio",id:"star5",className:"rating"}),o.a.createElement("label",{title:"Rocks!",style:a.state.selected_book.rating>=5?{color:"#fd7f10"}:null},"5 stars"),o.a.createElement("input",{type:"radio",id:"star4",className:"rating"}),o.a.createElement("label",{title:"Pretty good",style:a.state.selected_book.rating>=4?{color:"#fd7f10"}:null},"4 stars"),o.a.createElement("input",{type:"radio",id:"star3",className:"rating"}),o.a.createElement("label",{title:"Meh",style:a.state.selected_book.rating>=3?{color:"#fd7f10"}:null},"3 stars"),o.a.createElement("input",{type:"radio",id:"star2",className:"rating"}),o.a.createElement("label",{title:"Kinda bad",style:a.state.selected_book.rating>=2?{color:"#fd7f10"}:null},"2 stars"),o.a.createElement("input",{type:"radio",id:"star1",className:"rating"}),o.a.createElement("label",{title:"Sucks big time",style:a.state.selected_book.rating>=1?{color:"#fd7f10"}:null})),!1===a.state.is_rated?o.a.createElement("div",{className:"fidbacknone",onClick:function(){return a.setState({activeModal:"modals",commentforrezention_add:""})}},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c"):null),o.a.createElement("div",{className:"nonamedivs"},o.a.createElement(I.a,{className:"normalbuttonfree",before:o.a.createElement(Ee.a,null),onClick:function(){return a.getReaderBook(a.state.selected_book.source)}},"\u0427\u0438\u0442\u0430\u0442\u044c"),o.a.createElement(I.a,{className:"normalbuttontwo",onClick:function(){return a.setState({activeModal:"share_book",book_id_forshare:a.state.selected_book.id})}},o.a.createElement(Ne.a,null)),!0===a.state.is_favorite?o.a.createElement(I.a,{className:"normalbuttonone",onClick:function(){return a.deleteFavourite(a.state.selected_book.id)}},o.a.createElement(ge.a,null)):o.a.createElement(I.a,{className:"normalbuttonone",onClick:function(){return a.addFavourite(a.state.selected_book.id)}},o.a.createElement(pe.a,null))),o.a.createElement("div",null,o.a.createElement("div",{className:"titlebooksinfos"},"\u041e \u043a\u043d\u0438\u0433\u0435"),o.a.createElement("div",{className:"textforbooksinfo"},a.state.selected_book.annotation),o.a.createElement(I.a,{className:"fidbackcomment",before:o.a.createElement(be.a,null),onClick:function(){return a.commentsGet(a.state.selected_book.id)}},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0438"))))},Se="\u043d\u043e\u044f\u0431\u0440\u044f";var Ce=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("header",null,"\xa0"),o.a.createElement("div",{className:"titlesbiography",onClick:function(){return a.goBack()}},o.a.createElement(te.a,null,o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," \u041d\u0430\u0437\u0430\u0434")),o.a.createElement("div",{className:"errorcomments"},0===a.state.selected_book_comments.count?"\u0423\u043f\u0441, \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0435\u0449\u0435 \u043d\u0435\u0442!":null),a.state.selected_book_comments.items.map(function(e,t){return o.a.createElement(le.a,{onClick:function(){return a.openCommentAction(e.user.first_name,e.user.last_name,e.user.id,e.user.photo_200)},key:t,size:"l",before:o.a.createElement(re.a,{style:{marginTop:"5px"},size:55,src:e.user.photo_200})},o.a.createElement("div",{className:"namefa"},e.user.first_name," ",e.user.last_name),o.a.createElement("div",{className:"rating"},o.a.createElement("input",{type:"radio",id:"star5",className:"rating"}),o.a.createElement("label",{title:"Rocks!",style:e.rate>=5?{color:"#fd7f10"}:null},"5 stars"),o.a.createElement("input",{type:"radio",id:"star4",className:"rating"}),o.a.createElement("label",{title:"Pretty good",style:e.rate>=4?{color:"#fd7f10"}:null},"4 stars"),o.a.createElement("input",{type:"radio",id:"star3",className:"rating"}),o.a.createElement("label",{title:"Meh",style:e.rate>=3?{color:"#fd7f10"}:null},"3 stars"),o.a.createElement("input",{type:"radio",id:"star2",className:"rating"}),o.a.createElement("label",{title:"Kinda bad",style:e.rate>=2?{color:"#fd7f10"}:null},"2 stars"),o.a.createElement("input",{type:"radio",id:"star1",className:"rating"}),o.a.createElement("label",{title:"Sucks big time",style:e.rate>=1?{color:"#fd7f10"}:null})),o.a.createElement("div",{className:"commentstime"},new Date(1e3*e.date).getDate(),"\xa0",(0===(n=new Date(1e3*e.date).getMonth())&&(Se="\u044f\u043d\u0432\u0430\u0440\u044f"),1===n&&(Se="\u0444\u0435\u0432\u0440\u0430\u043b\u044f"),2===n&&(Se="\u043c\u0430\u0440\u0442\u0430"),3===n&&(Se="\u0430\u043f\u0440\u0435\u043b\u044f"),4===n&&(Se="\u043c\u0430\u0439\u044f"),5===n&&(Se="\u0438\u044e\u043d\u044f"),6===n&&(Se="\u0438\u044e\u043b\u044f"),7===n&&(Se="\u0430\u0432\u0433\u0443\u0441\u0442\u0430"),8===n&&(Se="\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f"),9===n&&(Se="\u043e\u043a\u0442\u044f\u0431\u0440\u044f"),10===n&&(Se="\u043d\u043e\u044f\u0431\u0440\u044f"),void(11===n&&(Se="\u0434\u0435\u043a\u0430\u0431\u0440\u044f"))),Se,"\xa0",new Date(1e3*e.date).getFullYear(),"\xa0 (",new Date(1e3*e.date).getHours(),":",new Date(1e3*e.date).getMinutes(),")"),o.a.createElement("div",{className:"commentcom"},e.comment));var n}))},Be=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("header",null,"\xa0"),o.a.createElement("div",{className:"titlesbiography",onClick:function(){return a.goBack()}},o.a.createElement(te.a,null,o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," ",a.state.author_info.last_name)),o.a.createElement("div",{className:"anotherblock"},o.a.createElement("div",{className:"anotherinfo"},o.a.createElement("div",{className:"anothertitle"},a.state.author_info.first_name," ",a.state.author_info.middle_name),o.a.createElement("div",{className:"anotherbutton",onClick:function(){return a.shareauthor()}},o.a.createElement("img",{className:"anotherbuttondown",src:"https://img.icons8.com/ios/50/000000/share.png",alt:""})),o.a.createElement("div",{className:"anotherannotation"},a.state.author_info.type),o.a.createElement("div",{className:"prostoline"}),o.a.createElement("div",{className:"anothermiddletext"},a.state.author_info.biography),o.a.createElement("div",{className:"prostoline"}),o.a.createElement("div",{className:"anotherblockforhard"},o.a.createElement("div",{className:"anotherhardinfo"},"\u0420\u043e\u0434\u0438\u043b\u0441\u044f: ",o.a.createElement("span",null,a.state.author_info.date_of_birth)),o.a.createElement("div",{className:"anotherhardinfo"},"\u0423\u043c\u0435\u0440: ",o.a.createElement("span",null,a.state.author_info.date_of_death)),o.a.createElement("div",{className:"anotherhardinfo"},"\u0413\u043e\u0434\u044b \u0442\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u0430: ",o.a.createElement("span",null,a.state.author_info.activity)),o.a.createElement("div",{className:"anotherhardinfo"},"\u042f\u0437\u044b\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439: ",o.a.createElement("span",null,a.state.author_info.lang)),o.a.createElement("div",{className:"anotherhardinfo"},"\u041a\u043d\u0438\u0433\u0438 \u0430\u0432\u0442\u043e\u0440\u0430:"),a.state.author_info_result.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{style:{marginLeft:"-15px"},className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))})))))},Ae=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("header",null,"\xa0"),o.a.createElement("div",{className:"titlesbiography",onClick:function(){return a.goBack()}},o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," \u041d\u0430\u0437\u0430\u0434"),o.a.createElement("div",{className:"hard"},o.a.createElement("div",{className:"test"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.state.booktext}}),";")),!1===a.state.is_rated?o.a.createElement(I.a,{style:{backgroundColor:"#00cbbe"},onClick:function(){return a.setState({activeModal:"modals",commentforrezention_add:""})}},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c"):null)},Me=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("div",{className:"profile"},o.a.createElement("div",{className:"titlesbiography",onClick:function(){return a.goBack()}},o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," \u041d\u0430\u0437\u0430\u0434"),o.a.createElement("br",null),o.a.createElement("br",null),0===a.state.booksfavorite_array.length&&0===a.state.bookshistory_array.length&&0===a.state.booksfavorite_array.length?o.a.createElement("div",{className:"errorprofile"},"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043a\u043d\u0438\u0433!"):null,0===a.state.booksfavorite_array.length?o.a.createElement("div",{style:{marginTop:"-35px"}}):o.a.createElement("div",{className:"history"},o.a.createElement("div",{className:"titless"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),o.a.createElement("br",null),a.state.booksfavorite_array.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}),o.a.createElement("br",null),0===a.state.bookshistory_array.length?null:o.a.createElement("div",{className:"history"},o.a.createElement("div",{className:"titless"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f ",o.a.createElement("img",{onClick:function(){return a.deleteHistory()},className:"Iconin",src:"https://img.icons8.com/ios-filled/50/000000/broom.png"}))),a.state.bookshistory_array.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))})))},Fe=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("header",null,"\xa0"),o.a.createElement("div",{className:"titlesbiography",onClick:function(){return a.goBack()}},o.a.createElement(te.a,null,o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," \u0422\u043e\u043f \u043a\u043d\u0438\u0433")),a.state.bookstop.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,book_id_forshare:e.id,formodal_id:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}))},je=function(e){var t=e.id,a=e.this;return o.a.createElement($.a,{id:t},o.a.createElement("header",null,"\xa0"),o.a.createElement("div",{className:"titlesbiography",style:{marginBottom:"-10px"},onClick:function(){return a.goBack()}},o.a.createElement(te.a,null,o.a.createElement(de.a,{width:30,height:30,style:{display:"inline-block"}})," \u041f\u043e \u0436\u0430\u043d\u0440\u0430\u043c")),o.a.createElement(D.a,null,o.a.createElement(z.a,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440",placeholder:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",onChange:function(e){a.goSelectGenres(e.target.value)}},a.state.result_genres.map(function(e,t){return o.a.createElement("option",{value:e.id,key:t},e.name)}))),0===a.state.books_genreresult.length?o.a.createElement("div",{className:"errorsearch"},"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440"):a.state.books_genreresult.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(ce.a,null))))}))};var xe=function(e){return o.a.createElement("div",{className:"loader"},o.a.createElement("div",{className:"l_main"},o.a.createElement("div",{className:"l_square"},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null)),o.a.createElement("div",{className:"l_square"},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null)),o.a.createElement("div",{className:"l_square"},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null)),o.a.createElement("div",{className:"l_square"},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null))))},Pe=a(136),Ze=a.n(Pe),Te=a(92),Oe=a.n(Te),We=a(93),Le=a.n(We),ze=a(94),Ge=a.n(ze),He=a(95),Qe=a.n(He),Ie=a(137);a.n(Ie).a.init();var Ke=a(128).parse(window.location.hash),Re=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).goBack=function(){window.history.back(),window.scrollBy(e.state.size,e.state.size_two);var t=Object(c.a)(e.state.history);t.pop();var a=t[t.length-1];console.log("\u0421\u0432\u0430\u0439\u043f \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u044c: "+t[t.length-1]),"home"===a&&i.a.send("VKWebAppDisableSwipeBack"),e.setState({history:t,activePanel:a})},e.goForward=function(t){var a=Object(c.a)(e.state.history);a.push(t),"home"===e.state.activePanel&&i.a.send("VKWebAppEnableSwipeBack"),e.setState({history:a,activePanel:t})},e.go=function(t){e.setState({activePanel:t.currentTarget.dataset.to}),window.history.pushState({panel:t.currentTarget.dataset.to},"".concat(t.currentTarget.dataset.to))},e.inputChange=function(t){clearTimeout(e.state.searchTimeout),e.setState({searchQuery:t.target.value,searchTimeout:setTimeout(e.search,650)})},e.search=function(){var t=e.state.searchQuery;""===t||fetch(e.state.api_url+"method=search.getResults&type="+e.state.radio+"&count="+e.state.sliderforsearch+"&q="+t+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({searchresult:t.response}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})},e.state={activePanel:"home",popout:o.a.createElement(xe,null),api_url:"https://api.xelene.me/book/?",errorcodeforalert:"",helpnavigationg_array:"home",test:{},listbooks:[],authors_array:null,selected_book_authors_fist:"",selected_book_authors_two:"",selected_book:[],selected_book_authors:[],selected_book_comments:[],selected_book_comments_enter:[],searchresult:[],activeModal:null,modalHistory:[],formodal_title:"",formodal_id:1,is_favorite:!1,is_rated:!0,is_group_member:1,reyt:0,searchQuery:"",searchTimeout:0,commentforrezention_add:null,radio:"1",booktext:o.a.createElement("div",null),firstname:"\u0418\u043c\u044f",lastname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",photo_200:null,biography_array:[],authortitle:"\u0410\u0432\u0442\u043e\u0440",authorlast:"\u0410\u0432\u0442\u043e\u0440",bookstop:[],author_info:[],author_info_result:[],authorbooks:[],id_author:1,genres_id:1,genre_name:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430",books_genreresult:[],history:["home"],bookhistory:null,bookfavorite:null,bookshistory_array:[],booksfavorite_array:[],favorite_array:[],history_array:[],favoritelength:[],historylenght:[],sliderforsearch:40,offset_home:0,listbooks_result:[],size:0,size_two:0,book_id_forshare:0,author_id_forshare:0},e.closePopout=e.closePopout.bind(Object(p.a)(Object(p.a)(e))),e.Subscribe=e.Subscribe.bind(Object(p.a)(Object(p.a)(e))),e.modalBack=function(){e.setActiveModal(e.state.modalHistory[e.state.modalHistory.length-2])},e.onCommentChange=e.onCommentChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"menu",value:function(e){e.state?this.setState({activePanel:e.state.panel}):(this.setState({activePanel:"home",search:""}),window.history.pushState({panel:"home"},"home"))}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(c.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",function(t){return t.preventDefault()&e.goBack()}),window.history.pushState({panel:this.state.history[this.state.history.length-1]},this.state.history[this.state.history.length-1]),i.a.send("VKWebAppGetUserInfo",{}),i.a.subscribe(function(t){var a=t.detail,n=a.type,o=a.data;"VKWebAppGetUserInfoResult"===n?e.setState({firstname:o.first_name,lastname:o.last_name,timezone:o.timezone,photo_200:o.photo_200}):"VKWebAppGetUserInfoFailed"===n&&(e.setState({errorcodeforalert:"\u0417\u0430\u0439\u0434\u0438\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435!"}),e.showZaprosFailedAun())}),void 0===Ke.book_id?console.log("\u0412 \u0445\u0435\u0448\u0435 \u043d\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439."):this.goBook(Ke.book_id),fetch(this.state.api_url+"method=account.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({is_group_member:t.response.is_group_member,favoritelength:t.response.favorite,historylenght:t.response.books_history})}).catch(function(t){e.ReturnLiveIWillBeBack()}),this.LoadBooks(),i.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"})}},{key:"Subscribe",value:function(){i.a.send("VKWebAppJoinGroup",{group_id:183054783})}},{key:"LoadBooks",value:function(){var e=this;fetch(this.state.api_url+"method=books.get&offset="+this.state.offset_home+"&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({listbooks:t.response,listbooks_result:t.response,popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.ReturnLiveIWillBeBack()})}},{key:"LoadBooks_Load",value:function(){var e=this;this.setState({popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=books.get&offset="+this.state.offset_home+"&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){var a=e.state.listbooks.concat(t.response);t.response?e.setState({listbooks:a,listbooks_result:t.response,popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.ReturnLiveIWillBeBack()})}},{key:"goBiography",value:function(){var e=this;fetch(this.state.api_url+"method=authors.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({activePanel:"biography",history:[].concat(Object(c.a)(e.state.history),["biography"]),biography_array:t.response}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),e.showZaprosFailedAun()})}},{key:"goTop",value:function(e){var t=this;this.setState({popout:o.a.createElement(xe,null),activeModal:null}),fetch(this.state.api_url+"method=books.getTop&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({activePanel:"top",popout:null,bookstop:e.response,history:[].concat(Object(c.a)(t.state.history),["top"])}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"addFavourite",value:function(e){var t=this;this.setState({popout:o.a.createElement(xe,null),activeModal:null}),fetch(this.state.api_url+"method=favorite.add&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({popout:null,is_favorite:!0}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"deleteFavourite",value:function(e){var t=this;this.setState({popout:o.a.createElement(xe,null),activeModal:null}),fetch(this.state.api_url+"method=favorite.delete&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({popout:null,is_favorite:!1}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"ShareBookToWall",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShowWallPostBox",{message:"vk.com/books_app#book_id="+this.state.book_id_forshare,attachments:"vk.com/books_app"})}},{key:"ShareBookToMessage",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShare",{link:"https://vk.com/books_app#book_id="+this.state.book_id_forshare})}},{key:"ShareAuthorToWall",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShowWallPostBox",{message:"vk.com/books_app#author_id="+this.state.author_id_forshare,attachments:"vk.com/books_app"})}},{key:"ShareAuthorToMessage",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShare",{link:"https://vk.com/books_app#author_id="+this.state.author_id_forshare})}},{key:"goBook",value:function(e){var t=this;this.setState({activeModal:null,popout:o.a.createElement(xe,null),size:window.pageYOffset,size_two:document.documentElement.clientWidth}),fetch(this.state.api_url+"method=book.getById&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(t.setState({selected_book:e.response,popout:null,activePanel:"bookinfo",history:[].concat(Object(c.a)(t.state.history),["bookinfo"])}),t.setState({selected_book_authors:t.state.selected_book.authors}),t.setState({selected_book_authors_fist:t.state.selected_book_authors[0].first_name,selected_book_authors_two:t.state.selected_book_authors[0].last_name}),t.setState({is_favorite:t.state.selected_book.is_favorite}),t.setState({is_rated:t.state.selected_book.is_rated,id_author:e.response.authors[0].id})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"goGenresGetBooks",value:function(){var e=this;this.setState({popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=genres.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({result_genres:t.response,activePanel:"genre",history:[].concat(Object(c.a)(e.state.history),["genre"]),popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),e.showZaprosFailedAun()})}},{key:"goSelectGenres",value:function(e){var t=this;this.setState({popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=books.getByGenre&genre_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({books_genreresult:e.response,popout:null}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()})}},{key:"goAuthor",value:function(e){var t=this;this.setState({activeModal:null,popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=books.getByAuthor&author_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({author_info_result:e.response}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()}),fetch(this.state.api_url+"method=author_getById&author_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({author_info:e.response,activePanel:"authorinfo",popout:null,history:[].concat(Object(c.a)(t.state.history),["authorinfo"])}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"getProfile",value:function(){var e=this;fetch(this.state.api_url+"method=account.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response&&e.setState({is_group_member:t.response.is_group_member,favorite_array:t.response.favorite,history_array:t.response.books_history,activePanel:"profile",history:[].concat(Object(c.a)(e.state.history),["profile"]),historylenght:t.response.books_history,favoritelength:t.response.favorite}),e.getBooksForProfileHistory(),e.getBooksForProfileFavorite()})}},{key:"getBooksForProfileHistory",value:function(){var e=this;fetch(this.state.api_url+"method=books.getByIds&book_ids="+this.state.history_array.join()+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({bookshistory_array:t.response})}).catch(function(t){e.showZaprosFailedAun()})}},{key:"getBooksForProfileFavorite",value:function(){var e=this;fetch(this.state.api_url+"method=books.getByIds&book_ids="+this.state.favorite_array.join()+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({booksfavorite_array:t.response})}).catch(function(t){e.showZaprosFailedAun()})}},{key:"commentsGet",value:function(e){var t=this;this.setState({popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=comments.get&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(t.setState({selected_book_comments:e.response}),t.setState({popout:null,activePanel:"bookscomment",helpnavigation_array:"bookinfo",history:[].concat(Object(c.a)(t.state.history),["bookscomment"])})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"commentsAdd",value:function(e){var t=this;this.setState({popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=comment.add&book_id="+e+"&rate="+this.state.reyt+"&comment="+this.state.commentforrezention_add+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({activeModal:null,popout:null,is_rated:!0}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"openCommentAction",value:function(e,t,n,r){var s=this;a(128).parse(window.location.search.replace("?","")),(new Date).getTime(),new Date(1574503533676).getHours();this.setState({popout:o.a.createElement(E.a,{onClose:function(){return s.setState({popout:null})}},o.a.createElement(g.a,{autoclose:!0},o.a.createElement("a",{className:"noselectuser",href:"https://vk.com/id"+n,component:"a",target:"_blank"},e," ",t)),o.a.createElement(g.a,{autoclose:!0,theme:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))})}},{key:"deleteHistory",value:function(){var e=this;this.setState({popout:o.a.createElement(N.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",autoclose:!0,action:function(){return e.ClearHistory()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},o.a.createElement("h2",null,"\u0423\u0432\u0435\u0440\u0435\u043d?"),o.a.createElement("p",null,"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e?"))})}},{key:"ClearHistory",value:function(){var e=this;this.setState({popout:o.a.createElement(xe,null)}),fetch(this.state.api_url+"method=history.clear&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({popout:null,historylenght:[],bookshistory_array:[]}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})}},{key:"showZaprosFailedAun",value:function(){this.setState({popout:o.a.createElement(N.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},o.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),o.a.createElement("p",null,this.state.errorcodeforalert))})}},{key:"ReturnLiveIWillBeBack",value:function(){var e=this;this.setState({popout:o.a.createElement(N.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",autoclose:!0,style:"cancel",action:function(){return e.componentDidMount()}}],onClose:this.closePopout},o.a.createElement("h2",null,"Error"),o.a.createElement("p",null,"\u0421\u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0430\u043d\u0442\u0438 \u0444\u043b\u0443\u0434 \u0438\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438!"))})}},{key:"closePopout",value:function(){this.setState({popout:null})}},{key:"options",value:function(){for(var e=[],t=0;t<=100;t+=1)e.push(o.a.createElement("option",{value:"".concat(t/10),key:"".concat(t)},t/10));return e}},{key:"getReaderBook",value:function(e){var t=this,a=e,n=new XMLHttpRequest;n.open("GET",a,!0),n.send(),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=n.responseText;t.setState({booktext:e,activePanel:"reader",history:[].concat(Object(c.a)(t.state.history),["reader"])})}},n.onerror=function(e){console.error(e)}}},{key:"onCommentChange",value:function(e){this.setState({commentforrezention_add:e.target.value})}},{key:"openModalSettings",value:function(e){var t=this;fetch(this.state.api_url+"method=book.isFavorite&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){t.setState({activeModal:"modal",is_favorite:e.response})}).catch(function(e){t.setState({errorcodeforalert:"\u0423\u043f\u0441. \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}),t.showZaprosFailedAun()})}},{key:"openModalAuthor",value:function(){this.setState({activeModal:"author"})}},{key:"render",value:function(){var e=this,t=o.a.createElement(S.a,{activeModal:this.state.activeModal},o.a.createElement(B.a,{id:"author",onClose:this.modalBack,header:o.a.createElement(M.a,{right:o.a.createElement(j.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},this.state.authortitle," ",this.state.authorlast)},o.a.createElement(P.a,null,o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Le.a,null),onClick:function(){return e.setActiveModal("share_rezept")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Oe.a,null),onClick:function(){return e.goAuthor(e.state.formodal_id)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))),o.a.createElement(B.a,{id:"search",onClose:this.modalBack,header:o.a.createElement(M.a,{right:o.a.createElement(j.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},"\u0424\u0438\u043b\u044c\u0442\u0440")},o.a.createElement(D.a,null,o.a.createElement("div",null,"0"===this.state.radio?o.a.createElement(T.a,{name:"radio",value:"0",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"):o.a.createElement(T.a,{name:"radio",value:"0",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"),"1"===this.state.radio?o.a.createElement(T.a,{name:"radio",value:"1",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043d\u0438\u0433\u0430\u043c"):o.a.createElement(T.a,{name:"radio",value:"1",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043d\u0438\u0433\u0430\u043c"),"2"===this.state.radio?o.a.createElement(T.a,{name:"radio",value:"2",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0430\u043c"):o.a.createElement(T.a,{name:"radio",value:"2",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0430\u043c"),o.a.createElement("div",{className:"modalsettingsserach"},"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043e (\u043a\u043d\u0438\u0433/\u0430\u0432\u0442\u043e\u0440\u043e\u0432):"),o.a.createElement(Y.a,{step:1,min:1,max:100,value:Number(this.state.sliderforsearch),onChange:function(t){return e.setState({sliderforsearch:t})}}),o.a.createElement("br",null),o.a.createElement(z.a,{onChange:function(t){return e.setState({sliderforsearch:t.target.value})},value:this.state.sliderforsearch},o.a.createElement("option",null," ",this.state.sliderforsearch))))),o.a.createElement(B.a,{id:"modals",onClose:this.modalBack,header:o.a.createElement(M.a,{right:o.a.createElement(j.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u044f")},o.a.createElement(D.a,null,o.a.createElement(R.a,{top:"\u041c\u043e\u0436\u0435\u0448\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c, \u0447\u0442\u043e \u0445\u043e\u0447\u0435\u0448\u044c"},o.a.createElement(z.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443",onChange:function(t){e.setState({reyt:t.target.value})}},o.a.createElement("option",{value:"1"},"1"),o.a.createElement("option",{value:"2"},"2"),o.a.createElement("option",{value:"3"},"3"),o.a.createElement("option",{value:"4"},"4"),o.a.createElement("option",{value:"5"},"5"))),o.a.createElement(R.a,{maxLength:"2000",top:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},o.a.createElement(H.a,{placeholder:"\u0422\u0443\u0442 \u043d\u0430\u043f\u0438\u0448\u0438 \u0441\u0432\u043e\u044e \u043e\u0446\u0435\u043d\u043a\u0443, \u043d\u043e \u043f\u043e\u043c\u043d\u0438, \u0447\u0442\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0432\u0438\u0434\u0435\u043d \u0432\u0441\u0435\u043c!",value:this.state.commentforrezention_add,onChange:this.onCommentChange})),o.a.createElement(R.a,null,o.a.createElement(I.a,{className:"modalfidback",size:"xl",level:"secondary",before:o.a.createElement(Ze.a,null),onClick:function(){return e.commentsAdd(e.state.selected_book.id)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))),o.a.createElement(B.a,{id:"modal",onClose:this.modalBack,header:o.a.createElement(M.a,{right:o.a.createElement(j.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},this.state.formodal_title)},o.a.createElement(P.a,null,!0===this.state.is_favorite?o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(ge.a,null),onClick:function(){return e.deleteFavourite(e.state.formodal_id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"):o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(pe.a,null),onClick:function(){return e.addFavourite(e.state.formodal_id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Le.a,null),onClick:function(){return e.setActiveModal("share_book")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Oe.a,null),onClick:function(){return e.goBook(e.state.formodal_id)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))),o.a.createElement(B.a,{id:"share_book",onClose:this.modalBack,header:o.a.createElement(M.a,{right:o.a.createElement(j.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Qe.a,null),onClick:function(){return e.ShareBookToWall()}},"\u041d\u0430 \u0441\u0442\u0435\u043d\u0443"),o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Ge.a,null),onClick:function(){return e.ShareBookToMessage()}},"\u0412 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),o.a.createElement(B.a,{id:"share_rezept",onClose:this.modalBack,header:o.a.createElement(M.a,{right:o.a.createElement(j.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Qe.a,null),onClick:function(){return e.ShareAuthorToWall()}},"\u041d\u0430 \u0441\u0442\u0435\u043d\u0443"),o.a.createElement(W.a,{style:{userSelect:"none"},before:o.a.createElement(Ge.a,null),onClick:function(){return e.ShareAuthorToMessage()}},"\u0412 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")));return o.a.createElement(J.a,{isWebView:!0},o.a.createElement(b.a,{id:"home",activePanel:this.state.activePanel,popout:this.state.popout,header:!1,modal:t,onSwipeBack:this.goBack,history:this.state.history},o.a.createElement(me,{id:"home",go:this.go,this:this}),o.a.createElement(Me,{id:"profile",go:this.go,this:this}),o.a.createElement(he,{id:"biography",go:this.go,this:this}),o.a.createElement(Fe,{id:"top",go:this.go,this:this}),o.a.createElement(je,{id:"genre",go:this.go,this:this}),o.a.createElement(we,{id:"bookinfo",go:this.go,this:this}),o.a.createElement(we,{id:"bookinfos",go:this.go,this:this}),o.a.createElement(Be,{id:"authorinfo",go:this.go,this:this}),o.a.createElement(Ce,{id:"bookscomment",go:this.go,this:this}),o.a.createElement(Ae,{id:"reader",go:this.go,this:this})))}}]),t}(o.a.Component);i.a.send("VKWebAppInit",{}),s.a.render(o.a.createElement(Re,null),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.8642a761.chunk.js.map