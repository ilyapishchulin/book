(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(e,t,a){e.exports=a(353)},342:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);a(241),a(294);var o=a(0),n=a.n(o),r=a(144),s=a.n(r),l=a(9),i=a.n(l),c=a(38),u=a(71),m=a(72),d=a(77),h=a(73),f=a(78),p=a(32),_=(a(320),a(102)),v=a.n(_),k=a(109),E=a.n(k),g=a(150),b=a.n(g),y=a(47),w=a.n(y),S=a(48),N=a.n(S),C=a(8),A=a.n(C),B=a(110),j=a.n(B),M=a(56),F=a.n(M),x=a(33),T=a.n(x),O=a(76),P=a.n(O),V=a(151),Z=a.n(V),W=a(21),R=a.n(W),L=a(79),z=a.n(L),K=a(61),H=a.n(K),I=a(152),Q=a.n(I),D=a(19),G=a.n(D),U=a(46),Y=a.n(U),q=a(54),J=a.n(q),X=a(53),$=a.n(X),ee=a(103),te=a.n(ee),ae=a(70),oe=a.n(ae),ne=a(18),re=a.n(ne),se=a(20),le=a.n(se),ie=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t},n.a.createElement(le.a,{separator:!1},"\u041a\u043d\u0438\u0433\u0438"),n.a.createElement($.a,{style:{paddingTop:"-20px"},onClick:function(){return a.getProfile()},size:"l",before:n.a.createElement(J.a,{style:{marginTop:"5px",marginLeft:"5px",background:"linear-gradient(to bottom, #ff5adf, #ff8d82)"},size:55,src:a.state.photo_200})},n.a.createElement("div",{className:"namehome"},a.state.firstname," ",a.state.lastname),n.a.createElement("div",{className:"nearnamehome"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f: ",Object.keys(a.state.historylenght).length,", \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",Object.keys(a.state.favoritelength).length)),n.a.createElement("div",{className:"SearchMobile__input"},n.a.createElement("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a",type:"text",maxLength:"100",value:a.state.searchQuery,onChange:a.inputChange}),n.a.createElement("div",{className:"SearchMobile__to-filters-wrapper",onClick:function(){return a.setState({activeModal:"search"})}},n.a.createElement("span",{className:"SearchMobile__to-filters"}))),0===a.state.searchQuery.length?n.a.createElement("div",{className:"home_scroll"},0===a.state.is_group_member?n.a.createElement("div",{className:"wrapper",onClick:function(){return a.Subscribe()}},n.a.createElement("img",{className:"wrapper",src:"https://constructorus.ru/wp-content/uploads/2012/05/\u041a\u0430\u043a-\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e-\u0432\u044b\u0431\u0440\u0430\u0442\u044c-\u043a\u043d\u0438\u0433\u0443.jpg"})):null,a.state.bookstop.map(function(e,t){return n.a.createElement("div",{className:"wrapper",key:t,onClick:function(){return a.goBook(e.id)}},n.a.createElement("img",{className:"wrapper",src:e.cover}))})):null,n.a.createElement("div",null,n.a.createElement("br",null),"0"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?null:a.state.searchresult.books.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id,cover_to_share:e.cover}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return n.a.createElement("div",{key:t,style:a.state.searchQuery.lenght>=1?{marginTop:"-100px"}:null},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,cover_to_share:e.cover,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}):null,"0"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?n.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.authors.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),n.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},n.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),n.a.createElement("div",{className:"contentauthor"},e.activity),n.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ","ru"===e.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({authortitle:e.first_name,help_id:e.id,author_id_forshare:e.id,authorlast:e.last_name}),a.setActiveModal("author")}},n.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return n.a.createElement("div",{key:t,style:a.state.searchQuery.lenght>=1?{marginTop:"-100px"}:null},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,cover_to_share:e.cover,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}):null,"1"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?n.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors[0].first_name," ",e.authors[0].last_name),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440:",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},e.name)}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,cover_to_share:e.cover,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return n.a.createElement("div",{key:t,style:a.state.searchQuery.lenght>=1?{marginTop:"-100px"}:null},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,cover_to_share:e.cover,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}):null,"2"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?n.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),n.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},n.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),n.a.createElement("div",{className:"contentauthor"},e.activity),n.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ","ru"===e.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({author_id_forshare:e.id,help_id:e.id,authortitle:e.first_name,authorlast:e.last_name}),a.setActiveModal("author")}},n.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return n.a.createElement("div",{key:t,style:a.state.searchQuery.lenght>=1?{marginTop:"-100px"}:null},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,cover_to_share:e.cover,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}):null,a.state.searchQuery.length>=1?null:a.state.listbooks_result.length>=10?n.a.createElement(Y.a,null,n.a.createElement(R.a,{size:"xl",level:"secondary",onClick:function(){return a.LoadBooks_Load()},style:{marginRight:8}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451")):null),a.state.isShowPromo?n.a.createElement(oe.a,{vertical:"bottom"},n.a.createElement(te.a,{onClose:function(){return a.setState({isShowPromo:!1})},bannerData:a.state.promoBanner})):null)},ce=a(23),ue=a.n(ce),me=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t,separator:!1},n.a.createElement(le.a,{separator:!1,left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))},"\u0410\u0432\u0442\u043e\u0440\u044b"),a.state.biography_array.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),n.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},n.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),n.a.createElement("div",{className:"contentauthor"},e.activity),n.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ","ru"===e.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({authortitle:e.first_name,author_id_forshare:e.id,authorlast:e.last_name,help_id:e.id}),a.setActiveModal("author")}},n.a.createElement(re.a,null))))}))},de=a(74),he=a.n(de),fe=a(145),pe=a.n(fe),_e=a(75),ve=a.n(_e),ke=(a(341),a(146)),Ee=a.n(ke);a(342);var ge=function(e){return n.a.createElement("div",{id:"body"},n.a.createElement("div",{id:"main"},n.a.createElement("span",{className:"spinner"})))},be=a(55),ye=a.n(be),we=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t,separator:!1},n.a.createElement(le.a,{separator:!1,style:{background:"#f4f4f4"},left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))},a.state.selected_book.genres[0].name),console.log(a.state.selected_book.cover),n.a.createElement("div",null,n.a.createElement("div",{className:"image_bookinfo"},n.a.createElement("img",{src:a.state.selected_book.cover})),n.a.createElement("div",{className:"title_bookinfo"},a.state.selected_book.name),n.a.createElement("div",{className:"author_bookinfo"},a.state.selected_book.authors.map(function(e,t){return n.a.createElement("span",{key:t,onClick:function(){return a.goAuthor(e.id)}},e.first_name," ",e.last_name,n.a.createElement("br",null))}))),n.a.createElement("div",{className:"reyting_bookinfo"},n.a.createElement("div",{className:"reyting_bookinfo_test"},n.a.createElement("div",null,n.a.createElement("div",{className:"title_bookinfo_block"},a.state.selected_book.views),n.a.createElement("div",{className:"title_bookinfo_desc"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432")),n.a.createElement("div",{className:"hr"}),n.a.createElement("div",null,n.a.createElement("div",{className:"title_bookinfo_block"},a.state.selected_book.rating),n.a.createElement("div",{className:"title_bookinfo_desc"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433")),n.a.createElement("div",{className:"hr"}),n.a.createElement("div",{onClick:function(){return a.commentsGet(a.state.selected_book.id)}},n.a.createElement("div",{className:"title_bookinfo_block"},a.state.selected_book.rated_count),n.a.createElement("div",{className:"title_bookinfo_desc"},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0439")))),n.a.createElement("br",null),n.a.createElement("div",{className:"nonamedivs"},n.a.createElement(R.a,{className:"normalbuttonfree",before:n.a.createElement(pe.a,null),onClick:function(){a.setState({popout:n.a.createElement(ge,null)}),a.getReaderBook(a.state.selected_book.source)}},"\u0427\u0438\u0442\u0430\u0442\u044c"),n.a.createElement(R.a,{className:"normalbuttontwo",onClick:function(){return a.setState({cover_to_share:a.state.selected_book.cover,activeModal:"share_book",book_id_forshare:a.state.selected_book.id})}},n.a.createElement(Ee.a,null)),!0===a.state.is_favorite?n.a.createElement(R.a,{className:"normalbuttonone",onClick:function(){return a.deleteFavourite(a.state.selected_book.id)}},n.a.createElement(ve.a,null)):n.a.createElement(R.a,{className:"normalbuttonone",onClick:function(){return a.addFavourite(a.state.selected_book.id)}},n.a.createElement(he.a,null))),n.a.createElement("div",{className:"modal_book"},n.a.createElement("div",{className:"modal_block_title"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),n.a.createElement("div",{className:"modal_block_desc"},a.state.selected_book.annotation)))},Se=a(104),Ne=a.n(Se),Ce=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t,separator:!1},n.a.createElement(le.a,{separator:!1,left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))},a.state.author_info.last_name),n.a.createElement("div",{className:"anotherblock"},n.a.createElement("div",{className:"anotherinfo"},n.a.createElement("div",{className:"anothertitle"},a.state.author_info.first_name," ",a.state.author_info.middle_name),n.a.createElement("div",{className:"anotherbutton",onClick:function(){a.setState({author_id_forshare:a.state.author_info.id}),a.setActiveModal("share_author")}}," ",n.a.createElement(Ne.a,{className:"anotherbuttondown"})),n.a.createElement("div",{className:"anotherannotation"},a.state.author_info.type),n.a.createElement("div",{className:"prostoline"}),n.a.createElement("div",{className:"anothermiddletext"},a.state.author_info.biography),n.a.createElement("div",{className:"prostoline"}),n.a.createElement("div",{className:"anotherblockforhard"},n.a.createElement("div",{className:"anotherhardinfo"},"\u0420\u043e\u0434\u0438\u043b\u0441\u044f: ",n.a.createElement("span",null,a.state.author_info.date_of_birth)),n.a.createElement("div",{className:"anotherhardinfo"},"\u0423\u043c\u0435\u0440: ",n.a.createElement("span",null,a.state.author_info.date_of_death)),n.a.createElement("div",{className:"anotherhardinfo"},"\u0413\u043e\u0434\u044b \u0442\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u0430: ",n.a.createElement("span",null,a.state.author_info.activity)),n.a.createElement("div",{className:"anotherhardinfo"},"\u042f\u0437\u044b\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439: ",n.a.createElement("span",null,"ru"===a.state.author_info.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),n.a.createElement("div",{className:"anotherhardinfo"},"\u041a\u043d\u0438\u0433\u0438 \u0430\u0432\u0442\u043e\u0440\u0430:"),n.a.createElement("div",{className:"anotherbooks"},a.state.author_info_result.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{style:{marginLeft:"-15px"},className:"allbooks_another"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,cover_to_share:e.cover,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))})),a.state.help_author.length>=10?n.a.createElement(Y.a,null,n.a.createElement(R.a,{size:"xl",level:"secondary",onClick:function(){a.goAuthor(a.state.author_info.id,!0)}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451")):null))))},Ae=300,Be=200;var je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onScroll=function(){a.toggleReturnButton(),window.pageYOffset<a.scroll||(clearTimeout(a.timeout),a.timeout=setTimeout(a.saveVisible,Ae),a.scroll=window.pageYOffset)},a.isVisible=function(e){var t=e.getBoundingClientRect(),a=document.documentElement.clientHeight,o=t.top>0&&t.top<a,n=t.bottom<a&&t.bottom>0;return o||n},a.getVisibleIndex=function(){for(var e=document.getElementsByClassName("reader__body")[0].getElementsByTagName("p"),t=0;t<e.length;t++)if(a.isVisible(e[t]))return t;return 0},a.saveVisible=function(){var e=a.getVisibleIndex();if(0!==e){a.lastPosition=e;var t=a.props.this.state.selected_book.id;fetch("https://api.xelene.me/book/?method=book.savePosition&book_id="+t+"&position="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044f - "+e)})}},a.getPositionTop=function(e){return e.getBoundingClientRect().top+window.pageYOffset-60},a.returnToPosition=function(){var e=a.returnPosition,t=document.getElementsByClassName("reader__body")[0].getElementsByTagName("p")[e],o=a.getPositionTop(t);window.scrollTo(0,o)},a.toggleReturnButton=function(){var e=a.returnPosition>0&&window.pageYOffset<Be;a.setState({showReturnButton:e})},a.state={showReturnButton:!1},a.scroll=0,a.timeout=null,a.lastPosition=0,a.returnPosition=a.props.this.state.selected_book.position,a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.toggleReturnButton(),window.addEventListener("scroll",this.onScroll);var e=document.querySelectorAll("a");if(e.length>0)for(var t=0;t<e.length-1;t++)e[t].innerHTML=""}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this;return n.a.createElement(G.a,{id:this.props.id,separator:!1},n.a.createElement(le.a,{left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))},"\u0427\u0442\u0435\u043d\u0438\u0435"),n.a.createElement("div",{className:"hard"},n.a.createElement("div",{className:"text"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.this.state.booktext}}))),this.state.showReturnButton&&n.a.createElement("div",{className:"reader__return-button",onClick:this.returnToPosition},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u0435"),!1===this.props.this.state.is_rated?n.a.createElement(Y.a,null,n.a.createElement(R.a,{size:"xl",level:"secondary",style:{backgroundColor:"#00cbbe",color:"#ffffff"},stretched:!0,onClick:function(){return e.props.this.setState({activeModal:"modals",commentforrezention_add:""})}},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c")):null)}}]),t}(n.a.Component),Me=a(147),Fe=a.n(Me),xe=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t},n.a.createElement(le.a,{separator:!1,left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))}),n.a.createElement($.a,{component:"a",target:"_blank",href:"https://vk.com/covid19",style:{marginTop:"0px"},size:"l",before:n.a.createElement(J.a,{id:"covid",style:{marginTop:"5px",marginLeft:"5px"},size:55})},n.a.createElement("div",{className:"namehome"},"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043e Covid-19"),n.a.createElement("div",{className:"nearnamehome"},"#stayhome")),n.a.createElement("div",null,n.a.createElement("br",null),0===a.state.booksfavorite_array.length&&0===a.state.bookshistory_array.length&&0===a.state.booksfavorite_array.length?n.a.createElement("div",{className:"errorprofile"},"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043a\u043d\u0438\u0433!"):null,0===a.state.booksfavorite_array.length?n.a.createElement("div",{style:{marginTop:"-35px"}}):n.a.createElement("div",{className:"history"},n.a.createElement("div",{className:"profile-title"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),n.a.createElement("br",null),n.a.createElement("br",null)),a.state.booksfavorite_array.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,cover_to_share:e.cover,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}),n.a.createElement("br",null),0===a.state.bookshistory_array.length?null:n.a.createElement("div",{className:"history"},n.a.createElement("div",{className:"profile-title"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f ",n.a.createElement("div",{className:"icons"},n.a.createElement(Fe.a,{onClick:function(){return a.deleteHistory()},className:"iconprofile",style:{marginTop:"-10px"},width:20,height:20}))),n.a.createElement("br",null),n.a.createElement("br",null)),a.state.bookshistory_array.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,cover_to_share:e.cover,formodal_id:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))})))},Te=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t},n.a.createElement(le.a,{left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))},"\u0416\u0430\u043d\u0440\u044b"),n.a.createElement(H.a,null,n.a.createElement(P.a,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440",onChange:function(e){a.setState({genre_result_dop:e.target.value,genre_id_offset:10}),a.goSelectGenres(e.target.value)}},a.state.result_genres.map(function(e,t){return n.a.createElement("option",{value:e.id,key:t},e.name)}))),0===a.state.books_genreresult.length?n.a.createElement("div",{className:"errorsearch"},"\u0412 \u0436\u0430\u043d\u0440\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043a\u043d\u0438\u0433\u0438"):a.state.books_genreresult.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"allbooks"},n.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),n.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},n.a.createElement("div",{className:"contenttitle"},e.name),n.a.createElement("div",{className:"contentreyt"},e.rating),n.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return n.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),n.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return n.a.createElement("span",{key:t},"\xa0",e.name,",")}),n.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),n.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},n.a.createElement(re.a,null))))}),a.state.genre_result_dop.length>=10?n.a.createElement(Y.a,null,n.a.createElement(R.a,{size:"xl",level:"secondary",onClick:function(){a.setState({genre_id_offset:a.state.genre_id_offset+10}),a.goSelectGenres_Load(a.state.dop_genre_id)},style:{marginRight:8}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451")):null)},Oe=a(62),Pe=a.n(Oe),Ve=["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"];function Ze(e){return e<10?"0"+e:e}var We=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t,separator:!1},n.a.createElement(le.a,{left:n.a.createElement(A.a,{onClick:function(){return a.goBack()}},n.a.createElement(ue.a,null))}),n.a.createElement("div",null,n.a.createElement("div",{className:"image_bookinfo"},n.a.createElement("img",{src:a.state.selected_book.cover})),n.a.createElement("div",{className:"title_bookinfo"},a.state.name.first_name," ",a.state.name.last_name," ",n.a.createElement("span",{style:{fontWeight:"300"}},"\u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u043a\u043d\u0438\u0433\u043e\u0439"),n.a.createElement("br",null),a.state.selected_book.name),n.a.createElement("div",{className:"buttons_news"},n.a.createElement("button",{className:"button_special",id:"reading",style:{marginRight:"10px"},onClick:function(){return a.ReadBook()}},"\u042f \u0442\u043e\u0436\u0435 \u0447\u0438\u0442\u0430\u043b"),n.a.createElement("button",{className:"button_special",onClick:function(){return a.goBook(a.state.contex)}},"\u0425\u043e\u0447\u0443 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c")),n.a.createElement("div",null,0===a.state.specials.length?n.a.createElement("div",{className:"error_special"},"\u041d\u0438\u043a\u0442\u043e \u0435\u0449\u0451 \u043d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043b \u0434\u0430\u043d\u043d\u0443\u044e \u043a\u043d\u0438\u0433\u0443,",n.a.createElement("br",null),"\u0421\u0442\u0430\u043d\u044c \u043f\u0435\u0440\u0432\u044b\u043c!"):n.a.createElement("div",null,n.a.createElement("div",{className:"title_special"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0432\u0448\u0438\u0445:"),n.a.createElement("br",null),n.a.createElement("div",null,a.state.specials.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("div",{className:"people_special"},n.a.createElement("img",{className:"people_special_img",src:e.user.photo_200}),n.a.createElement("div",{className:"people_special_title"},e.user.first_name," ",e.user.last_name),n.a.createElement("div",{className:"people_special_desc"},Ze(new Date(1e3*e.time).getDate())," ",(a=new Date(1e3*e.time).getMonth(),Ve[a])," ",new Date(1e3*e.time).getFullYear()," \u0432 ",Ze(new Date(1e3*e.time).getHours()),":",Ze(new Date(1e3*e.time).getMinutes()))));var a}),n.a.createElement("div",null))))))},Re=a(148),Le=a.n(Re),ze=a(105),Ke=a.n(ze),He=a(106),Ie=a.n(He),Qe=a(107),De=a.n(Qe),Ge=a(149),Ue=a.n(Ge),Ye="\u043d\u043e\u044f\u0431\u0440\u044f";function qe(e){return e<10?"0"+e:e}var Je=function(e){var t=e.id,a=e.this;return n.a.createElement(G.a,{id:t},n.a.createElement(le.a,{left:n.a.createElement(A.a,{onClick:function(){return window.history.back()}},n.a.createElement(ue.a,null))},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0438"),0===a.state.selected_book_comments.count?n.a.createElement("div",{className:"errorcomments",style:{marginTop:"270px"}},'"\u0423\u043f\u0441, \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u0439 \u0435\u0449\u0435 \u043d\u0435\u0442!"'):null,a.state.selected_book_comments.items.map(function(e,t){return n.a.createElement($.a,{href:"https://vk.com/id"+e.user.id,target:"blank",component:"a",key:t,size:"l",before:n.a.createElement(J.a,{style:{marginTop:"5px"},size:55,src:e.user.photo_200})},n.a.createElement("div",{className:"namefa"},e.user.first_name," ",e.user.last_name),n.a.createElement("div",{className:"rating",style:{display:"flex"}},n.a.createElement(ye.a,{width:15,height:15,style:e.rate>=1?{color:"#fd7f10"}:null}),n.a.createElement(ye.a,{width:15,height:15,style:e.rate>=2?{color:"#fd7f10"}:null}),n.a.createElement(ye.a,{width:15,height:15,style:e.rate>=3?{color:"#fd7f10"}:null}),n.a.createElement(ye.a,{width:15,height:15,style:e.rate>=4?{color:"#fd7f10"}:null}),n.a.createElement(ye.a,{width:15,height:15,style:e.rate>=5?{color:"#fd7f10"}:null}),n.a.createElement("div",{className:"commentstime"},new Date(1e3*e.date).getDate(),"\xa0",(0===(a=new Date(1e3*e.date).getMonth())&&(Ye="\u044f\u043d\u0432\u0430\u0440\u044f"),1===a&&(Ye="\u0444\u0435\u0432\u0440\u0430\u043b\u044f"),2===a&&(Ye="\u043c\u0430\u0440\u0442\u0430"),3===a&&(Ye="\u0430\u043f\u0440\u0435\u043b\u044f"),4===a&&(Ye="\u043c\u0430\u0439\u044f"),5===a&&(Ye="\u0438\u044e\u043d\u044f"),6===a&&(Ye="\u0438\u044e\u043b\u044f"),7===a&&(Ye="\u0430\u0432\u0433\u0443\u0441\u0442\u0430"),8===a&&(Ye="\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f"),9===a&&(Ye="\u043e\u043a\u0442\u044f\u0431\u0440\u044f"),10===a&&(Ye="\u043d\u043e\u044f\u0431\u0440\u044f"),void(11===a&&(Ye="\u0434\u0435\u043a\u0430\u0431\u0440\u044f"))),Ye,"\xa0",new Date(1e3*e.date).getFullYear(),"\xa0 (",qe(new Date(1e3*e.date).getHours()),":",qe(new Date(1e3*e.date).getMinutes()),")")),n.a.createElement("div",{className:"commentcom"},e.comment));var a}))},Xe=a(108),$e=a.n(Xe),et=a(344),tt=et.parse(window.location.hash),at=et.parse(window.location.search.replace("?","")),ot=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).goBack=function(){var t=Object(c.a)(e.state.history);t.pop();var a=t[t.length-1];"home"===a&&i.a.send("VKWebAppDisableSwipeBack"),t.length>=1?(e.setState({activeView:"home",activeModal:null,offset_author:0,help_author:[],author_info_result:[]}),e.setState({history:t,activePanel:a})):e.setState({activeView:"home",history:["home"],activeModal:null,offset_author:0,help_author:[],author_info_result:[]})},e.goForward=function(t){var a=Object(c.a)(e.state.history);a.push(t),"home"===e.state.activePanel&&i.a.send("VKWebAppEnableSwipeBack"),e.setState({history:a,activePanel:t})},e.go=function(t){e.setState({activeModal:null}),e.setState({activePanel:t.currentTarget.dataset.to}),window.history.pushState({panel:t.currentTarget.dataset.to},"".concat(t.currentTarget.dataset.to))},e.inputChange=function(t){clearTimeout(e.state.searchTimeout),e.setState({searchQuery:t.target.value,searchTimeout:setTimeout(e.search,650)})},e.search=function(){e.state.searchQuery.length>3&&fetch(e.state.api_url+"method=search.getResults&type="+e.state.radio+"&count=20&q="+e.state.searchQuery+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({searchresult:t.response}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})},e.state={activePanel:"home",activeView:"home",popout:n.a.createElement(ge,null),api_url:"https://api.xelene.me/book/?",errorcodeforalert:"",helpnavigationg_array:"home",test:{},listbooks:[],authors_array:null,selected_book_authors_fist:"",selected_book_authors_two:"",selected_book:[],selected_book_authors:[],selected_book_comments:[],selected_book_comments_enter:[],searchresult:[],activeModal:null,modalHistory:[],help_id:0,formodal_title:"",formodal_id:1,is_favorite:!1,is_rated:!0,is_group_member:1,reyt:0,searchQuery:"",searchTimeout:0,commentforrezention_add:null,radio:"1",booktext:n.a.createElement("div",null),firstname:"\u0418\u043c\u044f",lastname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",photo_200:null,biography_array:[],authortitle:"\u0410\u0432\u0442\u043e\u0440",authorlast:"\u0410\u0432\u0442\u043e\u0440",need_access_key:"",bookstop:[],author_info:[],author_info_result:[],authorbooks:[],id_author:1,genre_name:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430",books_genreresult:[],help_author:[],genre_id:1,dop_genre_id:1,cover_to_share:1,history:["home"],bookhistory:null,bookfavorite:null,bookshistory_array:[],booksfavorite_array:[],favorite_array:[],history_array:[],favoritelength:[],historylenght:[],offset_home:10,offset_author:0,listbooks_result:[],size:0,size_two:0,book_id_forshare:0,author_id_forshare:0,link:"",genre_id_offset:10,genre_result_dop:[],scheme:"bright_light",contex:"",owner_id:"",story_id:"",access_key:"",sticker_id:"",names:[],specials:[],isShowPromo:!1,promoBanner:{}},e.closePopout=e.closePopout.bind(Object(p.a)(Object(p.a)(e))),e.Subscribe=e.Subscribe.bind(Object(p.a)(Object(p.a)(e))),e.modalBack=function(){e.setActiveModal(e.state.modalHistory[e.state.modalHistory.length-2])},e.goBack=e.goBack.bind(Object(p.a)(Object(p.a)(e))),e.goForward=e.goForward.bind(Object(p.a)(Object(p.a)(e))),e.onCommentChange=e.onCommentChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(f.a)(t,e),Object(m.a)(t,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(c.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){var e=this;if(console.log(window.location.search),window.addEventListener("popstate",function(t){return t.preventDefault()&e.goBack()}),window.history.pushState({panel:"home"},"home"),i.a.send("VKWebAppGetAds",{}),i.a.subscribe(function(t){var a=t.detail,o=a.type,n=a.data;"VKWebAppGetAdsResult"===o?(e.setState({promoBanner:n,isShowPromo:!0}),console.log(n)):"VKWebAppGetAdsFailed"===o&&console.log(n),"VKWebAppUpdateConfig"===o&&("space_gray"===n.scheme?(e.setState({scheme:"space_gray"}),i.a.send("VKWebAppSetViewSettings",{status_bar_style:"light",action_bar_color:"#202122"})):"bright_light"===n.scheme?(e.setState({scheme:"bright_light"}),i.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"#e0e0e0"})):"client_light"===n.scheme?(e.setState({scheme:"bright_light"}),i.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"#e0e0e0"})):"client_dark"===n.scheme&&(e.setState({scheme:"space_gray"}),i.a.send("VKWebAppSetViewSettings",{status_bar_style:"light",action_bar_color:"#202122"})))}),i.a.send("VKWebAppGetUserInfo",{}),i.a.subscribe(function(t){var a=t.detail,o=a.type,n=a.data;"VKWebAppGetUserInfoResult"===o?e.setState({firstname:n.first_name,lastname:n.last_name,timezone:n.timezone,photo_200:n.photo_200}):"VKWebAppGetUserInfoFailed"===o&&(e.setState({errorcodeforalert:"\u0417\u0430\u0439\u0434\u0438\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435!"}),e.showZaprosFailedAun())}),void 0!==tt.book_id?this.goBook(tt.book_id):void 0!==tt.author_id&&this.goAuthor(tt.author_id),0===at.vk_ref.search("story")){var t=at.vk_ref.split("_"),a=Number(t[0].split("story")[1]),o=t[1],n=t[2],r=t[3];this.setState({contex:atob(t[4]),owner_id:a,story_id:o,access_key_story:n,sticker_id:r}),this.getAccountOwner(a,atob(t[4])),console.log("Owner id "+a),console.log("Story id "+o),console.log("access key "+n),console.log("sticker id "+r),console.log("contex "+atob(t[4]))}fetch(this.state.api_url+"method=account.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response&&(338598380===Number(at.vk_user_id)&&setTimeout(function(){return $e.a.init()},1e4),console.log(t.response),e.goTop(),e.setState({is_group_member:t.response.is_group_member,favoritelength:t.response.favorite,historylenght:t.response.books_history}))}),this.LoadBooks()}},{key:"Subscribe",value:function(){console.log(14354),this.setState({is_group_member:1}),i.a.send("VKWebAppJoinGroup",{group_id:183054783})}},{key:"getAccountOwner",value:function(e,t){var a=this;fetch(this.state.api_url+"method=user.getByVKId&user_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response&&(a.setState({name:e.response}),a.getInfoBook(t))}).catch(function(e){a.setState({errorcodeforalert:"\u0423\u043f\u0441. \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}),a.showZaprosFailedAun()})}},{key:"getInfoBook",value:function(e){var t=this;fetch(this.state.api_url+"method=book.getById&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(a){a.response&&(t.setState({selected_book:a.response}),t.goSpecial(e))}).catch(function(e){t.setState({errorcodeforalert:"\u0423\u043f\u0441. \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}),t.showZaprosFailedAun()})}},{key:"goSpecial",value:function(e){var t=this;fetch(this.state.api_url+"method=book.getReadersList&book_id="+e+"&count=20&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response&&(console.log(e.response),window.history.pushState({panel:"special"},"special"),t.setState({specials:e.response}),t.setState({activePanel:"special",history:[].concat(Object(c.a)(t.state.history),["special"])}))}).catch(function(e){t.setState({errorcodeforalert:"\u0423\u043f\u0441. \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}),t.showZaprosFailedAun()})}},{key:"ReadBook",value:function(){var e=this;document.getElementById("reading").classList.add("button_special_after"),document.getElementById("reading").classList.remove("button_special"),i.a.send("VKWebAppSubscribeStoryApp",{story_owner_id:Number(this.state.owner_id),story_id:Number(this.state.story_id),access_key:this.state.access_key_story,sticker_id:Number(this.state.sticker_id)}),i.a.subscribe(function(t){var a=t.detail,o=a.type,n=a.data;console.log(o,n),"VKWebAppSubscribeStoryAppResult"===o&&(console.log(n.access_key),fetch(e.state.api_url+"method=book.iRead&book_id="+e.state.contex+"&access_key="+n.access_key+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t?(e.goSpecial(e.state.contex),console.log(t)):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}))})}},{key:"LoadBooks",value:function(){var e=this;fetch(this.state.api_url+"method=books.get&offset=0&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({listbooks:t.response,listbooks_result:t.response,popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())})}},{key:"LoadBooks_Load",value:function(){var e=this;this.setState({popout:n.a.createElement(ge,null)}),this.setState({offset_home:this.state.offset_home+10}),fetch(this.state.api_url+"method=books.get&offset="+this.state.offset_home+"&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){var a=e.state.listbooks.concat(t.response);t.response?e.setState({listbooks:a,listbooks_result:t.response,popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())})}},{key:"goBiography",value:function(){var e=this;fetch(this.state.api_url+"method=authors.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?(window.history.pushState({panel:"biography"},"biography"),e.setState({activePanel:"biography",history:[].concat(Object(c.a)(e.state.history),["biography"]),biography_array:t.response})):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),e.showZaprosFailedAun()})}},{key:"goTop",value:function(){var e=this;this.setState({popout:n.a.createElement(ge,null),activeModal:null}),fetch(this.state.api_url+"method=books.getTop&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({popout:null,bookstop:t.response}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})}},{key:"addFavourite",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=favorite.add&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({popout:null,is_favorite:!0}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"deleteFavourite",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=favorite.delete&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({popout:null,is_favorite:!1}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"ShareBookToWall",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShowWallPostBox",{message:"vk.com/books_app#book_id="+this.state.book_id_forshare,attachments:"vk.com/books_app"})}},{key:"ShareBookToMessage",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShare",{link:"https://vk.com/books_app#book_id="+this.state.book_id_forshare})}},{key:"ShareAuthorToWall",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShowWallPostBox",{message:"vk.com/books_app#author_id="+this.state.author_id_forshare,attachments:"vk.com/books_app"})}},{key:"ShareAuthorToMessage",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShare",{link:"https://vk.com/books_app#author_id="+this.state.author_id_forshare})}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"goBook",value:function(e){var t=this;console.log(e),1===this.getRandomInt(1,1500)&&this.Subscribe(),this.setState({activeModal:null,popout:n.a.createElement(ge,null),size:window.pageYOffset,size_two:document.documentElement.clientWidth}),fetch(this.state.api_url+"method=book.getById&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response&&(window.history.pushState({panel:"bookinfo"},"bookinfo"),t.setState({selected_book:e.response,popout:null,activePanel:"bookinfo",history:[].concat(Object(c.a)(t.state.history),["bookinfo"])}),t.setState({selected_book_authors:t.state.selected_book.authors}),t.setState({selected_book_authors_fist:t.state.selected_book_authors[0].first_name,selected_book_authors_two:t.state.selected_book_authors[0].last_name}),t.setState({is_favorite:t.state.selected_book.is_favorite}),t.setState({is_rated:t.state.selected_book.is_rated,id_author:e.response.authors[0].id}))}).catch(function(e){t.showZaprosFailedAun()})}},{key:"goGenresGetBooks",value:function(){var e=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=genres.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?(e.goSelectGenres(1),window.history.pushState({panel:"genre"},"genre"),e.setState({result_genres:t.response,activePanel:"genre",history:[].concat(Object(c.a)(e.state.history),["genre"]),popout:null})):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),e.showZaprosFailedAun()})}},{key:"goSelectGenres",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=books.getByGenre&genre_id="+e+"&count=10&offset="+this.state.genre_id_offset+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({genre_result_dop:e.response,books_genreresult:e.response,popout:null,genre_id_offset:20}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()})}},{key:"goSelectGenres_Load",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=books.getByGenre&genre_id="+e+"&count=10&offset="+this.state.genre_id_offset+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){if(e.response){var a=t.state.books_genreresult.concat(e.response);t.setState({genre_result_dop:e.response,books_genreresult:a,popout:null})}else t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun()}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()})}},{key:"goAuthor",value:function(e){var t=this;fetch(this.state.api_url+"method=books.getByAuthor&author_id="+e+"&offset="+this.state.offset_author+"&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(a){if(a.response){if(0===t.state.author_info_result.length)fetch(t.state.api_url+"method=author.getById&author_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(window.history.pushState({panel:"authorinfo"},"authorinfo"),t.setState({author_info:e.response,activePanel:"authorinfo",popout:null,history:[].concat(Object(c.a)(t.state.history),["authorinfo"])})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()}),t.setState({author_info_result:a.response,help_author:a.response});else{var o=t.state.author_info_result.concat(a.response);t.setState({author_info_result:o,help_author:a.response,popout:null})}t.setState({offset_author:t.state.offset_author+10})}else t.setState({errorcodeforalert:a.error.message}),t.showZaprosFailedAun()}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()}),this.setState({activeModal:null,popout:n.a.createElement(ge,null)})}},{key:"getProfile",value:function(){var e=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=account.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response&&(window.history.pushState({panel:"profile"},"profile"),e.setState({is_group_member:t.response.is_group_member,favorite_array:t.response.favorite,history_array:t.response.books_history,activePanel:"profile",history:[].concat(Object(c.a)(e.state.history),["profile"]),historylenght:t.response.books_history,favoritelength:t.response.favorite,popout:null})),e.getBooksForProfileHistory(),e.getBooksForProfileFavorite()})}},{key:"getBooksForProfileHistory",value:function(){var e=this;fetch(this.state.api_url+"method=books.getByIds&book_ids="+this.state.history_array.join()+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({bookshistory_array:t.response})}).catch(function(t){e.showZaprosFailedAun()})}},{key:"getBooksForProfileFavorite",value:function(){var e=this;fetch(this.state.api_url+"method=books.getByIds&book_ids="+this.state.favorite_array.join()+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({booksfavorite_array:t.response})}).catch(function(t){e.showZaprosFailedAun()})}},{key:"commentsGet",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=comments.get&book_id="+e+"&count=500&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(window.history.pushState({panel:"bookscomment"},"bookscomment"),t.setState({selected_book_comments:e.response}),t.setState({popout:null,activePanel:"bookscomment",history:[].concat(Object(c.a)(t.state.history),["bookscomment"])})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"commentsAdd",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)}),this.setState({activeModal:null}),0===this.state.reyt?this.showZaprosFailedAun("\u041d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443!"):fetch(this.state.api_url+"method=comment.add&book_id="+e+"&rate="+this.state.reyt+"&comment="+this.state.commentforrezention_add+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(console.log(e),t.setState({activeModal:null,popout:null,is_rated:!0})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){console.log(e),t.showZaprosFailedAun()})}},{key:"deleteHistory",value:function(){var e=this;this.setState({popout:n.a.createElement(E.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",autoclose:!0,action:function(){return e.ClearHistory()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},n.a.createElement("h2",null,"\u0423\u0432\u0435\u0440\u0435\u043d?"),n.a.createElement("p",null,"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e?"))})}},{key:"ClearHistory",value:function(){var e=this;this.setState({popout:n.a.createElement(ge,null)}),fetch(this.state.api_url+"method=history.clear&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({popout:null,historylenght:[],bookshistory_array:[]}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})}},{key:"showZaprosFailedAun",value:function(e){this.setState({popout:n.a.createElement(E.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},n.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),n.a.createElement("p",null,void 0!=e?e:this.state.errorcodeforalert))})}},{key:"closePopout",value:function(){this.setState({popout:null})}},{key:"options",value:function(){for(var e=[],t=0;t<=100;t+=1)e.push(n.a.createElement("option",{value:"".concat(t/10),key:"".concat(t)},t/10));return e}},{key:"getReaderBook",value:function(e){var t=this;this.setState({popout:n.a.createElement(ge,null)});var a=e,o=new XMLHttpRequest;o.open("GET",a,!0),o.send(),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=o.responseText;window.history.pushState({panel:"reader"},"reader"),t.setState({booktext:e,activePanel:"reader",history:[].concat(Object(c.a)(t.state.history),["reader"])}),setTimeout(function(){return t.setState({popout:null})},1e3)}},o.onerror=function(e){console.error(e)}}},{key:"onCommentChange",value:function(e){this.setState({commentforrezention_add:e.target.value})}},{key:"openModalSettings",value:function(e){var t=this;fetch(this.state.api_url+"method=book.isFavorite&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){t.setState({activeModal:"modal",is_favorite:e.response})}).catch(function(e){t.setState({errorcodeforalert:"\u0423\u043f\u0441. \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}),t.showZaprosFailedAun()})}},{key:"openModalAuthor",value:function(){this.setState({activeModal:"author"})}},{key:"toDataURL",value:function(e){this.setState({popout:n.a.createElement(ge,null),activeModal:null}),console.log(e);var t=this,a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){4===a.readyState&&200===a.status&&(console.log(e.result),t.sendHistory_Okey(e.result))},e.readAsDataURL(a.response)},a.open("GET",e),a.responseType="blob",a.send()}},{key:"sendHistory_Okey",value:function(e){var t=this;i.a.send("VKWebAppShowStoryBox",{background_type:"none",stickers:[{sticker_type:"renderable",sticker:{content_type:"image",blob:e,clickable_zones:[{action_type:"app",action:{app_id:7031064,app_context:String(this.state.selected_book.id)}}]}}]}),i.a.subscribe(function(e){var a=e.detail,o=a.type,n=a.data;"VKWebAppShowStoryBoxFailed"===o&&($e.a.init(),console.log(n),t.setState({popout:null})),"VKWebAppShowStoryBoxResult"===o&&(console.log(n),t.setState({popout:null}))})}},{key:"render",value:function(){var e=this,t=n.a.createElement(b.a,{activeModal:this.state.activeModal},n.a.createElement(w.a,{id:"author",onClose:this.modalBack,header:n.a.createElement(N.a,{right:n.a.createElement(A.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},this.state.authorlast)},n.a.createElement(j.a,null,n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Ie.a,null),onClick:function(){return e.setActiveModal("share_author")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Ke.a,null),onClick:function(){return e.goAuthor(e.state.help_id)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))),n.a.createElement(w.a,{id:"search",onClose:this.modalBack,header:n.a.createElement(N.a,{right:n.a.createElement(A.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},"\u0424\u0438\u043b\u044c\u0442\u0440")},n.a.createElement(H.a,null,n.a.createElement("div",null,"0"===this.state.radio?n.a.createElement(F.a,{name:"radio",value:"0",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"):n.a.createElement(F.a,{name:"radio",value:"0",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"),"1"===this.state.radio?n.a.createElement(F.a,{name:"radio",value:"1",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043d\u0438\u0433\u0430\u043c"):n.a.createElement(F.a,{name:"radio",value:"1",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043d\u0438\u0433\u0430\u043c"),"2"===this.state.radio?n.a.createElement(F.a,{name:"radio",value:"2",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0430\u043c"):n.a.createElement(F.a,{name:"radio",value:"2",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0430\u043c"),n.a.createElement("br",null),n.a.createElement("br",null)))),n.a.createElement(w.a,{id:"modals",onClose:this.modalBack,header:n.a.createElement(N.a,{left:n.a.createElement(A.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u044f")},n.a.createElement(H.a,null,n.a.createElement(z.a,{top:"\u041c\u043e\u0436\u0435\u0448\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c, \u0447\u0442\u043e \u0445\u043e\u0447\u0435\u0448\u044c"},n.a.createElement(P.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443",onChange:function(t){e.setState({reyt:t.target.value})}},n.a.createElement("option",{value:"1"},"1"),n.a.createElement("option",{value:"2"},"2"),n.a.createElement("option",{value:"3"},"3"),n.a.createElement("option",{value:"4"},"4"),n.a.createElement("option",{value:"5"},"5"))),n.a.createElement(z.a,{maxLength:"2000",top:null===this.state.commentforrezention_add?null:"\u0421\u0438\u043c\u0432\u043e\u043b\u043e\u0432: "+this.state.commentforrezention_add.length+"/2000"},n.a.createElement(Z.a,{maxLength:"2000",placeholder:"\u0422\u0443\u0442 \u043d\u0430\u043f\u0438\u0448\u0438 \u0441\u0432\u043e\u044e \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u044e, \u043d\u043e \u043f\u043e\u043c\u043d\u0438 - \u043e\u043d\u0430 \u0432\u0438\u0434\u043d\u0430 \u0432\u0441\u0435\u043c!",value:this.state.commentforrezention_add,onChange:this.onCommentChange})),n.a.createElement(z.a,null,n.a.createElement(R.a,{className:"modalfidback",size:"xl",level:"secondary",before:n.a.createElement(Le.a,null),onClick:function(){return e.commentsAdd(e.state.selected_book.id)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))),n.a.createElement(w.a,{id:"modal",onClose:this.modalBack,header:n.a.createElement(N.a,{right:n.a.createElement(A.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},this.state.formodal_title)},n.a.createElement(j.a,null,!0===this.state.is_favorite?n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(ve.a,null),onClick:function(){return e.deleteFavourite(e.state.formodal_id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"):n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(he.a,null),onClick:function(){return e.addFavourite(e.state.formodal_id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Ie.a,null),onClick:function(){return e.setActiveModal("share_book")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Ke.a,null),onClick:function(){return e.goBook(e.state.formodal_id)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))),n.a.createElement(w.a,{id:"share_book",onClose:this.modalBack,header:n.a.createElement(N.a,{right:n.a.createElement(A.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Ue.a,null),onClick:function(){return e.toDataURL("https://api.xelene.me/book/sticker/index.php?url="+e.state.cover_to_share)}},"\u0412 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Pe.a,null),onClick:function(){return e.ShareBookToWall()}},"\u041d\u0430 \u0441\u0442\u0435\u043d\u0443"),n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(De.a,null),onClick:function(){return e.ShareBookToMessage()}},"\u0412 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),n.a.createElement(w.a,{id:"settings_reader",onClose:this.modalBack,header:n.a.createElement(N.a,{right:n.a.createElement(A.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Pe.a,null),onClick:function(){e.setState({popout:n.a.createElement(ge,null),activeModal:null}),e.getVisibleIndex()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),n.a.createElement(w.a,{id:"share_author",onClose:this.modalBack,header:n.a.createElement(N.a,{right:n.a.createElement(A.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(Pe.a,null),onClick:function(){return e.ShareAuthorToWall(e.state.help_id)}},"\u041d\u0430 \u0441\u0442\u0435\u043d\u0443"),n.a.createElement(T.a,{style:{userSelect:"none"},before:n.a.createElement(De.a,null),onClick:function(){return e.ShareAuthorToMessage(e.state.help_id)}},"\u0412 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")));return n.a.createElement(Q.a,{isWebView:!0,scheme:this.state.scheme},n.a.createElement(v.a,{id:"home",activePanel:this.state.activePanel,popout:this.state.popout,header:!0,modal:t,onSwipeBack:this.goBack,history:this.state.history},n.a.createElement(ie,{id:"home",go:this.go,this:this}),n.a.createElement(We,{id:"special",this:this}),n.a.createElement(xe,{id:"profile",go:this.go,this:this}),n.a.createElement(me,{id:"biography",go:this.go,this:this}),n.a.createElement(Te,{id:"genre",go:this.go,this:this}),n.a.createElement(we,{id:"bookinfo",go:this.go,this:this}),n.a.createElement(Ce,{id:"authorinfo",go:this.go,this:this}),n.a.createElement(Je,{id:"bookscomment",go:this.go,this:this}),n.a.createElement(je,{id:"reader",go:this.go,this:this})))}}]),t}(n.a.Component),nt=a(153),rt=a.n(nt),st=a(111);i.a.send("VKWebAppInit",{});var lt=document.getElementById("root");Object(st.b)()===st.a&&rt()(lt),s.a.render(n.a.createElement(ot,null),lt)}},[[240,1,2]]]);
//# sourceMappingURL=main.741e3891.chunk.js.map