{"version":3,"sources":["panels/home.js","panels/biography.js","MySpinner.js","panels/bookinfo.js","panels/authorinfo.js","panels/reader.js","panels/profile.js","panels/genre.js","panels/special.js","panels/bookscomment.js","App.js","index.js"],"names":["home","_ref","id","love","this","react_default","a","createElement","Panel_default","PanelHeader_default","separator","Cell_default","style","paddingTop","onClick","getProfile","size","before","Avatar_default","marginTop","marginLeft","background","src","state","photo_200","className","firstname","lastname","Object","keys","historylenght","length","favoritelength","placeholder","type","maxLength","value","searchQuery","onChange","inputChange","setState","activeModal","is_group_member","Subscribe","bookstop","map","result","i","key","goBook","radio","searchresult","alt","formodal_title","formodal_id","book_id_forshare","cover_to_share","openModalSettings","more_vertical_default","listbooks","lenght","goAuthor","authortitle","help_id","author_id_forshare","authorlast","setActiveModal","first_name","last_name","listbooks_result","Div_default","Button_default","level","LoadBooks_Load","marginRight","isShowPromo","FixedLayout_default","vertical","PromoBanner_default","onClose","bannerData","promoBanner","biography","left","PanelHeaderButton_default","window","history","back","browser_back_default","biography_array","MySpinner","props","booksinfo","selected_book","console","log","commentsGet","copy_default","popout","src_MySpinner","getReaderBook","reply_outline_default","is_favorite","deleteFavourite","like_default","addFavourite","like_outline_default","author_info","share_outline_default","author_info_result","help_author","SAVE_TIMEOUT","BUTTON_SCROLL_Y_OFFSET","Reader","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onScroll","toggleReturnButton","pageYOffset","scroll","clearTimeout","timeout","setTimeout","saveVisible","isVisible","elem","coords","getBoundingClientRect","windowHeight","document","documentElement","clientHeight","topVisible","top","bottomVisible","bottom","getVisibleIndex","paragraphs","getElementsByClassName","getElementsByTagName","visibleIndex","lastPosition","book_id","fetch","api_url","location","search","replace","then","res","json","getPositionTop","returnToPosition","pos","returnPosition","p","scrollTop","scrollTo","showReturnButton","position","addEventListener","querySelectorAll","innerHTML","removeEventListener","_this2","dangerouslySetInnerHTML","__html","booktext","is_rated","backgroundColor","color","stretched","commentforrezention_add","React","Component","profile","component","target","href","booksfavorite_array","bookshistory_array","delete_outline_android_default","deleteHistory","width","height","genre","FormLayout_default","Select_default","e","genre_result_dop","genre_id_offset","goSelectGenres","result_genres","books_genreresult","goSelectGenres_Load","dop_genre_id","months","fix_time","time","goBack","name","fontWeight","ReadBook","contex","specials","Date","getDate","month","getMonth","getFullYear","getHours","getMinutes","bookscomment","selected_book_comments","display","favorite_default","queryString","require","parsedHash","parse","hash","App","toConsumableArray","pop","activePanel","connect","send","activeView","offset_author","goForward","push","go","currentTarget","dataset","to","pushState","panel","concat","searchTimeout","response","errorcodeforalert","error","message","showZaprosFailedAun","catch","err","helpnavigationg_array","test","authors_array","selected_book_authors_fist","selected_book_authors_two","selected_book_authors","selected_book_comments_enter","modalHistory","reyt","need_access_key","authorbooks","id_author","genre_name","genre_id","bookhistory","bookfavorite","favorite_array","history_array","offset_home","size_two","link","scheme","owner_id","story_id","access_key","sticker_id","names","closePopout","bind","assertThisInitialized","modalBack","onCommentChange","indexOf","splice","preventDefault","subscribe","_ref$detail","detail","data","status_bar_style","action_bar_color","_ref2","_ref2$detail","timezone","undefined","author_id","vk_ref","story","split","Number","atob","access_key_story","getAccountOwner","vk_user_id","eruda","init","goTop","LoadBooks","group_id","user_id","_this3","getInfoBook","_this4","goSpecial","_this5","_this6","getElementById","classList","add","remove","story_owner_id","_ref3","_ref3$detail","_this7","_this8","sliyan","_this9","_this10","_this11","_this12","attachments","min","max","Math","floor","random","_this13","getRandomInt","clientWidth","authors","_this14","_this15","_this16","_this17","slyan","_this18","getBooksForProfileHistory","getBooksForProfileFavorite","_this19","join","_this20","_this21","_this22","_this23","Alert_default","actionsLayout","actions","title","autoclose","action","ClearHistory","_this24","options","url_forbook","_this25","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","onerror","_this26","global","onload","reader","FileReader","onloadend","sendHistory_Okey","readAsDataURL","responseType","_this27","background_type","stickers","sticker_type","sticker","content_type","blob","clickable_zones","action_type","app_id","app_context","String","_ref4","_ref4$detail","_this28","modal","ModalRoot_default","ModalPage_default","header","ModalPageHeader_default","right","List_default","CellButton_default","userSelect","share_external_default","link_default","Radio_default","defaultChecked","FormLayoutGroup_default","Textarea_default","add_default","commentsAdd","video_default","toDataURL","newsfeed_default","ShareBookToWall","discussions_default","ShareBookToMessage","ShareAuthorToWall","ShareAuthorToMessage","ConfigProvider_default","isWebView","View_default","onSwipeBack","panels_home","special","panels_profile","panels_biography","panels_genre","bookinfo","authorinfo","panels_bookscomment","root","platform","IOS","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.741e3891.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport PromoBanner from '@vkontakte/vkui/dist/components/PromoBanner/PromoBanner';\r\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\r\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll';\r\n\r\nimport Icon24MoreVertical from '@vkontakte/icons/dist/24/more_vertical';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\n\r\nconst home = ({ id, this: love}) => (\r\n    \r\n    <Panel id={id}>\r\n         <PanelHeader separator={false}>\r\n             Книги\r\n         </PanelHeader>\r\n         <Cell\r\n        style={{paddingTop: \"-20px\"}}\r\n        onClick={() => love.getProfile()}\r\n        size=\"l\"\r\n        before={<Avatar style={{marginTop: \"5px\", marginLeft: \"5px\", background: \"linear-gradient(to bottom, #ff5adf, #ff8d82)\"}} size={55} src={love.state.photo_200}/>}\r\n      >\r\n          <div className=\"namehome\">{love.state.firstname} {love.state.lastname}</div>\r\n          \r\n        <div className=\"nearnamehome\">История: {(Object.keys(love.state.historylenght).length)}, Избранное: {(Object.keys(love.state.favoritelength).length)}</div>\r\n      </Cell>\r\n      <div className=\"SearchMobile__input\" >\r\n                <input placeholder=\"Поиск\" type=\"text\" maxLength=\"100\" value={love.state.searchQuery} onChange={love.inputChange}/>\r\n            <div className=\"SearchMobile__to-filters-wrapper\" onClick={() => love.setState({activeModal: 'search'})}>\r\n                <span className=\"SearchMobile__to-filters\"></span>\r\n            </div>\r\n            </div>\r\n            {love.state.searchQuery.length === 0 ?\r\n<div className=\"home_scroll\">\r\n\r\n    {love.state.is_group_member === 0 ?\r\n        <div className=\"wrapper\" onClick={() => love.Subscribe()}>\r\n                <img className=\"wrapper\" src=\"https://constructorus.ru/wp-content/uploads/2012/05/Как-правильно-выбрать-книгу.jpg\"/>\r\n        </div> : null}\r\n    {love.state.bookstop.map(function(result, i) {\r\n        return (\r\n            <div className=\"wrapper\" key={i} onClick={() => love.goBook(result['id'])}>\r\n                <img className=\"wrapper\" src={result['cover']}/>\r\n            </div>\r\n        )\r\n        })}\r\n</div>: null }\r\n         <div>\r\n       <br/>\r\n        { love.state.radio === \"0\" ?\r\n        love.state.searchQuery.length >= 3 ? \r\n        love.state.searchresult.length === 0 ? null :\r\n        love.state.searchresult['books'].map(function(result, i) {\r\n            return (\r\n            <div key={i} >\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\">\r\n                    {result['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n            {result['first_name']} {result['last_name']} \r\n            </span>\r\n            )\r\n    }) }\r\n                    </div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр: {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']},\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" \r\n                onClick={() => {love.setState({\r\n                    formodal_title: result['name'], \r\n                    formodal_id: result['id'], \r\n                    book_id_forshare: result['id'],\r\n                    cover_to_share: result['cover']\r\n                }); \r\n                love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    })  \r\n        : \r\n        love.state.listbooks.map(function(result, i) {\r\n            return (\r\n            <div key={i} style={love.state.searchQuery.lenght >= 1 ? {marginTop: \"-100px\"} : null}>\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\">\r\n                    {result['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n            {result['first_name']} {result['last_name']} \r\n            </span>\r\n            )\r\n    }) }\r\n                    </div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр: {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']},\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], cover_to_share: result['cover'], formodal_id: result['id'], book_id_forshare: result['id']}); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) : null}   \r\n     { love.state.radio === \"0\" ?\r\n        love.state.searchQuery.length >= 3 ? \r\n        love.state.searchresult.length === 0 ?  <div className=\"errorsearch\">Поиск не дал результатов</div> :\r\n        love.state.searchresult['authors'].map(function(result, i) {\r\n            return (\r\n                <div key={i} >\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goAuthor(result[\"id\"])} alt=\"\" src={result['photo']}/>\r\n                    <div onClick={() => love.goAuthor(result[\"id\"])} className=\"content\">\r\n    <div onClick={() => love.goAuthor(result[\"id\"])} className=\"contenttitle\">{result['first_name']} {result['last_name']}</div>\r\n                    <div className=\"contentauthor\">{result['activity']}</div>\r\n                    <div className=\"contentviews\">\r\n                        Язык: {result['lang'] === \"ru\" ? \"русский\" : \"неизвестный\"}\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({authortitle: result['first_name'], help_id: result['id'], author_id_forshare: result['id'], authorlast: result['last_name']}); love.setActiveModal(\"author\")}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) \r\n        : \r\n        love.state.listbooks.map(function(result, i) {\r\n            return (\r\n            <div key={i} style={love.state.searchQuery.lenght >= 1 ? {marginTop: \"-100px\"} : null}>\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\">\r\n                    {result['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n            {result['first_name']} {result['last_name']} \r\n            </span>\r\n            )\r\n    }) }\r\n                    </div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр: {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']},\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], cover_to_share: result['cover'], formodal_id: result['id'], book_id_forshare: result['id']}); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) : null}   \r\n     { love.state.radio === \"1\" ?\r\n        love.state.searchQuery.length >= 3 ? \r\n        love.state.searchresult.length === 0 ?  <div className=\"errorsearch\">Поиск не дал результатов</div> :\r\n        love.state.searchresult.map(function(result, i) {\r\n            return (\r\n            <div key={i} >\r\n                <div className=\"allbooks\" >\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\">{(result['authors']['0'].first_name)} {(result['authors']['0'].last_name)}</div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр:\r\n                        {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']}\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], cover_to_share: result['cover'],  formodal_id: result['id'], book_id_forshare: result['id'] }); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) \r\n        : \r\n        love.state.listbooks.map(function(result, i) {\r\n            return (\r\n            <div key={i} style={love.state.searchQuery.lenght >= 1 ? {marginTop: \"-100px\"} : null}>\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\">\r\n                    {result['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n            {result['first_name']} {result['last_name']} \r\n            </span>\r\n            )\r\n    }) }\r\n                    </div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр: {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']},\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], cover_to_share: result['cover'], formodal_id: result['id'], book_id_forshare: result['id']}); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) : null}   \r\n     { love.state.radio === \"2\" ?\r\n        love.state.searchQuery.length >= 3 ? \r\n        love.state.searchresult.length === 0 ?  <div className=\"errorsearch\">Поиск не дал результатов</div> :\r\n        love.state.searchresult.map(function(result, i) {\r\n            return (\r\n                <div key={i} >\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goAuthor(result[\"id\"])} alt=\"\" src={result['photo']}/>\r\n                    <div onClick={() => love.goAuthor(result[\"id\"])} className=\"content\">\r\n<div onClick={() => love.goAuthor(result[\"id\"])} className=\"contenttitle\">{result['first_name']} {result['last_name']}</div>\r\n                    <div className=\"contentauthor\">{result['activity']}</div>\r\n                    <div className=\"contentviews\">\r\n                        Язык: {result['lang'] === \"ru\" ? \"русский\" : \"неизвестный\"}\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({ author_id_forshare: result['id'], help_id: result['id'], authortitle: result['first_name'], authorlast: result['last_name']}); love.setActiveModal(\"author\")}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) \r\n        : \r\n        love.state.listbooks.map(function(result, i) {\r\n            return (\r\n            <div key={i} style={love.state.searchQuery.lenght >= 1 ? {marginTop: \"-100px\"} : null}>\r\n                <div className=\"allbooks\">\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\">\r\n                    {result['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n            {result['first_name']} {result['last_name']} \r\n            </span>\r\n            )\r\n    }) }\r\n                    </div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр: {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']},\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], cover_to_share: result['cover'],  formodal_id: result['id'], book_id_forshare: result['id'] }); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n            )\r\n    }) : null}\r\n    {love.state.searchQuery.length >= 1 ?  null : \r\n                  love.state.listbooks_result.length >= 10 ? \r\n                  <Div>\r\n                  <Button  size=\"xl\" level=\"secondary\" onClick={() => love.LoadBooks_Load()} style={{ marginRight: 8 }}>Загрузить ещё</Button>\r\n                  </Div>\r\n                  : null\r\n                  }     \r\n                  </div>\r\n        {love.state.isShowPromo ?\r\n                <FixedLayout vertical=\"bottom\">\r\n                    <PromoBanner onClose={() => love.setState({isShowPromo: false})} bannerData={love.state.promoBanner} />\r\n                </FixedLayout> : null }\r\n    </Panel>\r\n);\r\n\r\nexport default home;","import React from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport Icon24MoreVertical from '@vkontakte/icons/dist/24/more_vertical';\r\n\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\nconst biography = ({id, this: love}) => (\r\n    <Panel id={id} separator={false}>\r\n        <PanelHeader separator={false}\r\n         left={<HeaderButton onClick={() => window.history.back()}><Icon24BrowserBack/></HeaderButton>}\r\n         >\r\n             Авторы\r\n         </PanelHeader>\r\n        {love.state.biography_array.map(function(result, i) {\r\n                            return (\r\n                                <div key={i}>\r\n                                <div className=\"allbooks\">\r\n                                    <img onClick={() => love.goAuthor(result[\"id\"])} alt=\"\" src={result['photo']}/>\r\n                                    <div onClick={() => love.goAuthor(result[\"id\"])} className=\"content\">\r\n        <div onClick={() => love.goAuthor(result[\"id\"])} className=\"contenttitle\">{result['first_name']} {result['last_name']}</div>\r\n                                    <div className=\"contentauthor\">{result['activity']}</div>\r\n                                    <div className=\"contentviews\">\r\n                                        Язык: {result['lang'] === \"ru\" ? \"русский\" : \"неизвестный\"}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"bottonfunctions\" onClick={() => {love.setState({authortitle: result['first_name'], author_id_forshare: result['id'], authorlast: result['last_name'], help_id: result['id']}); love.setActiveModal(\"author\")}}><Icon24MoreVertical/></div>\r\n                        </div>\r\n                        </div>\r\n                            )\r\n                    })}\r\n        \r\n    </Panel>\r\n);\r\n\r\n\r\nexport default biography;","import React from 'react'\r\nimport './style.css'\r\n\r\nfunction MySpinner(props) {\r\n    return (\r\n<div id=\"body\">\r\n      <div id=\"main\">\r\n  \r\n  <span className=\"spinner\"></span>  \r\n\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default MySpinner","import React from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\n\r\n\r\n// VKUI\r\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout'\r\nimport PromoBanner from '@vkontakte/vkui/dist/components/PromoBanner/PromoBanner'\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\r\n// Icons\r\nimport Icon24LikeOutline from '@vkontakte/icons/dist/24/like_outline';\r\nimport Icon24Copy from '@vkontakte/icons/dist/24/copy';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\nimport Icon24CommentOutline from '@vkontakte/icons/dist/24/comment_outline';\r\nimport Icon24ReplyOutline from '@vkontakte/icons/dist/24/reply_outline';\r\n\r\nimport MySpinner from '../MySpinner'\r\n\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\nimport Icon24Favorite from '@vkontakte/icons/dist/24/favorite';\r\n\r\nconst booksinfo =  ({ id, this: love }) => (\r\n    <Panel id={id} separator={false}>\r\n         <PanelHeader separator={false} style={{background: '#f4f4f4'}} \r\n         left={<HeaderButton onClick={() => window.history.back()}><Icon24BrowserBack/></HeaderButton>}\r\n         >\r\n            {love.state.selected_book['genres'][0]['name']}\r\n         </PanelHeader>\r\n         {console.log(love.state.selected_book['cover'])}\r\n         <div>\r\n             <div className=\"image_bookinfo\">\r\n                 <img src={love.state.selected_book['cover']}/>\r\n             </div>\r\n             <div className=\"title_bookinfo\">{love.state.selected_book['name']}</div>\r\n             <div className=\"author_bookinfo\">\r\n             {love.state.selected_book['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i} onClick={() => love.goAuthor(result['id'])}>\r\n                {result['first_name']} {result['last_name']}<br/>\r\n            </span>\r\n            )\r\n    }) }\r\n             </div>\r\n         </div>\r\n        \r\n        {/* <div className=\"reyting_bookinfo\">\r\n            <div className=\"reyting_bookinfo_test\">\r\n                <div className=\"reyting_book\"><Icon24Favorite width={20} height={20}/></div>\r\n                <div className=\"reyting_book\"><Icon24Favorite width={20} height={20}/></div>\r\n                <div className=\"reyting_book\"><Icon24Favorite width={20} height={20}/></div>\r\n                <div className=\"reyting_book\"><Icon24Favorite width={20} height={20}/></div>\r\n                <div className=\"reyting_book\"><Icon24Favorite width={20} height={20}/></div>\r\n            </div>\r\n        </div> */}\r\n        \r\n        <div className=\"reyting_bookinfo\">\r\n            <div className=\"reyting_bookinfo_test\">\r\n            <div>\r\n                <div className=\"title_bookinfo_block\">{love.state.selected_book['views']}</div>\r\n                <div className=\"title_bookinfo_desc\">Просмотров</div>\r\n            </div>\r\n            <div className=\"hr\"></div>\r\n            <div>\r\n                <div className=\"title_bookinfo_block\">{love.state.selected_book['rating']}</div>\r\n                <div className=\"title_bookinfo_desc\">Рейтинг</div>\r\n            </div>\r\n            <div className=\"hr\"></div>\r\n            <div onClick={() => love.commentsGet(love.state.selected_book['id'])}>\r\n                <div className=\"title_bookinfo_block\">{love.state.selected_book['rated_count']}</div>\r\n                <div className=\"title_bookinfo_desc\">Рецензий</div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <br/>\r\n        <div className=\"nonamedivs\" >\r\n        <Button className=\"normalbuttonfree\" before={<Icon24Copy/>} onClick={() => { love.setState({popout: <MySpinner/>}); love.getReaderBook(love.state.selected_book['source']);}}>Читать</Button>\r\n        <Button className=\"normalbuttontwo\" onClick={() => love.setState({cover_to_share: love.state.selected_book['cover'], activeModal: \"share_book\", book_id_forshare: love.state.selected_book['id']})}><Icon24ReplyOutline/></Button>\r\n        {\r\n            love.state.is_favorite === true ?\r\n            <Button className=\"normalbuttonone\" onClick={() => love.deleteFavourite(love.state.selected_book['id'])}><Icon24Like/></Button>\r\n            :\r\n            <Button className=\"normalbuttonone\" onClick={() => love.addFavourite(love.state.selected_book['id'])}><Icon24LikeOutline/></Button>\r\n        }\r\n        </div>\r\n        <div className=\"modal_book\">\r\n            <div className=\"modal_block_title\">Описание</div>\r\n            <div className=\"modal_block_desc\">\r\n            {love.state.selected_book['annotation']}\r\n            </div>\r\n        </div>\r\n    </Panel>\r\n);\r\nexport default booksinfo;","import React from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\n\r\n\r\n// VKUI\r\n// Icons\r\nimport Icon24MoreVertical from '@vkontakte/icons/dist/24/more_vertical';\r\n\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div'\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\r\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\r\n\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\nconst booksinfo =  ({ id, this: love }) => (\r\n    <Panel id={id} separator={false}>\r\n        <PanelHeader separator={false}\r\n         left={<HeaderButton onClick={() => window.history.back()}><Icon24BrowserBack/></HeaderButton>}\r\n         >\r\n             {love.state.author_info['last_name']}\r\n         </PanelHeader>\r\n        <div className=\"anotherblock\">\r\n          <div className=\"anotherinfo\">\r\n            <div className=\"anothertitle\" >{love.state.author_info['first_name']} {love.state.author_info['middle_name']}</div>\r\n            <div className=\"anotherbutton\" onClick={() => {love.setState({author_id_forshare: love.state.author_info['id']}) ;love.setActiveModal(\"share_author\")}}>\r\n                {//<img className=\"anotherbuttondown\" src=\"https://img.icons8.com/ios/50/000000/reply-arrow.png\" alt=\"\"/>\r\n            } <Icon24ShareOutline className=\"anotherbuttondown\"/>\r\n            </div>\r\n            <div className=\"anotherannotation\" >{love.state.author_info['type']}</div>\r\n            <div className=\"prostoline\" ></div>\r\n            <div className=\"anothermiddletext\" >\r\n            {love.state.author_info['biography']}\r\n            </div>\r\n            <div className=\"prostoline\"></div>\r\n            <div className=\"anotherblockforhard\" >\r\n            <div className=\"anotherhardinfo\">Родился: <span>{love.state.author_info['date_of_birth']}</span></div>\r\n            <div className=\"anotherhardinfo\">Умер: <span>{love.state.author_info['date_of_death']}</span></div>\r\n            <div className=\"anotherhardinfo\">Годы творчества: <span>{love.state.author_info['activity']}</span></div>\r\n            <div className=\"anotherhardinfo\">Язык произведений: <span>{love.state.author_info['lang']  === \"ru\" ? \"русский\" : \"неизвестный\"}</span></div>\r\n            <div className=\"anotherhardinfo\">Книги автора:</div>\r\n            <div className=\"anotherbooks\">\r\n        {love.state.author_info_result.map(function(result, i) {\r\n            return (\r\n                <div key={i}>\r\n                <div style={{marginLeft: \"-15px\"}} className=\"allbooks_another\">\r\n                    <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                    <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                    <div className=\"contenttitle\">{result['name']}</div>\r\n                    <div className=\"contentreyt\">{result['rating']}</div>\r\n                    <div className=\"contentauthorhome\" >\r\n                    {result['authors'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n            {result['first_name']} {result['last_name']} \r\n            </span>\r\n            )\r\n    }) }\r\n                    </div>\r\n                    <div className=\"contentviews\">\r\n                    Жанр: {result['genres'].map(function(result, i) {\r\n            return (\r\n            <span key={i}>\r\n                 {result['name']},\r\n            </span>\r\n            )\r\n    }) }\r\n    <div className=\"contentviews\">\r\n                        Просмотров: {result['views']}\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], formodal_id: result['id'], cover_to_share: result['cover'],  book_id_forshare: result['id']}); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n        </div>\r\n        </div>\r\n                )\r\n    }) }\r\n    </div>\r\n    {\r\n                  love.state.help_author.length >= 10 ? \r\n                  <Div>\r\n                    <Button size=\"xl\" level=\"secondary\" onClick={() => {love.goAuthor(love.state.author_info['id'], true)}}>Загрузить ещё</Button>\r\n                  </Div>\r\n                  : null\r\n                  } \r\n            </div>\r\n            </div>\r\n          </div>\r\n    </Panel>\r\n);\r\n\r\nexport default booksinfo;","import React from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div'\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\n\r\nconst SAVE_TIMEOUT = 300; // Задержка автосохранения позиции\r\nconst BUTTON_SCROLL_Y_OFFSET = 200; // На сколько пикселей от верха надо прокрутить, чтобы кнопка скрылась\r\n\r\nfunction ger(e) {\r\n    console.log(e)\r\n}\r\n\r\nclass Reader extends React.Component {\r\n    constructor(props) {\r\n        super( props );\r\n\r\n        this.state = {\r\n            showReturnButton: false\r\n        };\r\n\r\n        this.scroll = 0;\r\n        this.timeout = null;\r\n        this.lastPosition = 0;\r\n\r\n        this.returnPosition = this.props.this.state.selected_book.position; // Последняя сохраненная позиция\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.toggleReturnButton();\r\n        window.addEventListener( 'scroll', this.onScroll );\r\n        let a = document.querySelectorAll('a')\r\n        if(a.length > 0) {\r\n            for(let i = 0; i < a.length - 1; i++) {\r\n                a[i].innerHTML = \"\"\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener( 'scroll', this.onScroll );\r\n    }\r\n\r\n    onScroll = () => {\r\n        this.toggleReturnButton();\r\n        if ( window.pageYOffset < this.scroll ) return;\r\n\r\n        clearTimeout( this.timeout );\r\n        this.timeout = setTimeout( this.saveVisible, SAVE_TIMEOUT );\r\n\r\n        this.scroll = window.pageYOffset;\r\n    }\r\n\r\n    isVisible = ( elem ) => {\r\n        let coords = elem.getBoundingClientRect();\r\n        let windowHeight = document.documentElement.clientHeight;\r\n        let topVisible = coords.top > 0 && coords.top < windowHeight;\r\n        let bottomVisible = coords.bottom < windowHeight && coords.bottom > 0;\r\n\r\n        return topVisible || bottomVisible;\r\n    }\r\n\r\n    getVisibleIndex = () => {\r\n        var reader = document.getElementsByClassName( 'reader__body' )[0];\r\n        var paragraphs = reader.getElementsByTagName( 'p' );\r\n\r\n        for ( var i = 0; i < paragraphs.length; i++ ) {\r\n            if ( this.isVisible( paragraphs[i] ) ) return i;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    saveVisible = () => {\r\n        var visibleIndex = this.getVisibleIndex();\r\n        if ( visibleIndex === 0 ) return;\r\n\r\n        this.lastPosition = visibleIndex;\r\n        let api_url = \"https://api.xelene.me/book/?\"\r\n        let book_id = this.props.this.state.selected_book['id']\r\n        fetch(api_url + \"method=book.savePosition&book_id=\" + book_id+ \"&position=\" + visibleIndex + \"&\" + window.location.search.replace('?', ''))\r\n        .then(res => res.json())\r\n\t\t.then(result => {\r\n            console.log(\"Сохранена позиция - \" + visibleIndex )\r\n        })\r\n    }\r\n\r\n    getPositionTop = ( elem ) => {\r\n        var box = elem.getBoundingClientRect();\r\n        return box.top + window.pageYOffset - 60; // -60 чтобы начало было не под шапкой\r\n    }\r\n\r\n    returnToPosition = () => {\r\n        var pos = this.returnPosition;\r\n        var reader = document.getElementsByClassName( 'reader__body' )[0];\r\n        var p = reader.getElementsByTagName( 'p' )[pos];\r\n        var scrollTop = this.getPositionTop( p );\r\n\r\n        window.scrollTo( 0, scrollTop );\r\n    }\r\n\r\n    toggleReturnButton = () => {\r\n        var state = this.returnPosition > 0 && window.pageYOffset < BUTTON_SCROLL_Y_OFFSET;\r\n        this.setState( {\r\n            showReturnButton: state\r\n        } );\r\n    }\r\n    render() {\r\n        \r\n        return (\r\n            <Panel id={this.props.id} separator={false}>\r\n                <PanelHeader left={\r\n                    <HeaderButton onClick={() => window.history.back()}>\r\n                        <Icon24BrowserBack />\r\n                    </HeaderButton>\r\n                    \r\n                }>Чтение</PanelHeader>\r\n\r\n            <div className=\"hard\">\r\n                <div className=\"text\">\r\n                    <div dangerouslySetInnerHTML={{__html: this.props.this.state.booktext}} />\r\n                </div>\r\n            </div>\r\n\r\n            {this.state.showReturnButton && <div className=\"reader__return-button\" onClick={this.returnToPosition}>Продолжить чтение</div> }\r\n\r\n            {this.props.this.state.is_rated === false ? \r\n                <Div>\r\n                    <Button  size=\"xl\" level=\"secondary\" style={{backgroundColor: \"#00cbbe\", color: \"#ffffff\"}} stretched onClick={() => this.props.this.setState({activeModal: \"modals\", commentforrezention_add: \"\"})}>Оценить</Button>\r\n                </Div>    \r\n                :null}\r\n                </Panel>\r\n            )\r\n    }\r\n}\r\n\r\nexport default Reader;","import React from 'react';\r\nimport Icon24MoreVertical from '@vkontakte/icons/dist/24/more_vertical';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell'\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar'\r\n\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android'\r\nconst profile = ({ id, this: love}) => (\r\n    <Panel id={id}>\r\n       <PanelHeader \r\n       separator={false}\r\n         left={<HeaderButton onClick={() => window.history.back()}><Icon24BrowserBack/></HeaderButton>}\r\n         >\r\n         </PanelHeader>\r\n         <Cell\r\n        component=\"a\"\r\n        target=\"_blank\"\r\n        href=\"https://vk.com/covid19\"\r\n        style={{marginTop: \"0px\"}}\r\n        size=\"l\"\r\n        before={<Avatar id=\"covid\" style={{marginTop: \"5px\", marginLeft: \"5px\"}} size={55}/>}\r\n      >\r\n          <div className=\"namehome\">Главное о Covid-19</div>\r\n          <div className=\"nearnamehome\">#stayhome</div>\r\n      </Cell>\r\n        <div>\r\n        <br/>\r\n        {love.state.booksfavorite_array.length === 0 ? \r\n        \r\n        love.state.bookshistory_array.length === 0 && love.state.booksfavorite_array.length === 0? <div className=\"errorprofile\">У вас нет избранных и истории книг!</div> : null\r\n        : null}\r\n        {love.state.booksfavorite_array.length === 0 ? \r\n        <div style={{marginTop: \"-35px\"}}></div>\r\n        :         <div className=\"history\">\r\n        <div className=\"profile-title\">\r\n            Избранное\r\n        </div>\r\n        <br/>\r\n        <br/>\r\n        </div> }\r\n            {love.state.booksfavorite_array.map(function(result, i) {\r\n                            return (\r\n                                <div key={i}>\r\n                                    <div className=\"allbooks\">\r\n                                        <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                                        <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                                        <div className=\"contenttitle\">{result['name']}</div>\r\n                                        <div className=\"contentreyt\">{result['rating']}</div>\r\n                                        <div className=\"contentauthorhome\">\r\n                                        {result['authors'].map(function(result, i) {\r\n                                return (\r\n                                <span key={i}>\r\n                                {result['first_name']} {result['last_name']} \r\n                                </span>\r\n                                )\r\n                        }) }\r\n                                        </div>\r\n                                        <div className=\"contentviews\">\r\n                                        Жанр: {result['genres'].map(function(result, i) {\r\n                                return (\r\n                                <span key={i}>\r\n                                     {result['name']},\r\n                                </span>\r\n                                )\r\n                        }) }\r\n                        <div className=\"contentviews\">\r\n                                            Просмотров: {result['views']}\r\n                                        </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], formodal_id: result['id'], cover_to_share: result['cover'], book_id_forshare: result['id']}); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n                            </div>\r\n                            </div>\r\n                                )\r\n                    })}\r\n                    <br/>\r\n{love.state.bookshistory_array.length === 0 ? \r\nnull \r\n        :         <div className=\"history\">\r\n        <div className=\"profile-title\">\r\n            История <div className=\"icons\"><Icon28DeleteOutlineAndroid onClick={() => love.deleteHistory()} className=\"iconprofile\" style={{marginTop: \"-10px\"}} width={20} height={20}/></div>\r\n        </div>\r\n        <br/>\r\n        <br/>\r\n        </div>   }\r\n            {love.state.bookshistory_array.map(function(result, i) {\r\n                            return (\r\n                                <div key={i}>\r\n                                    <div className=\"allbooks\">\r\n                                        <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                                        <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                                        <div className=\"contenttitle\">{result['name']}</div>\r\n                                        <div className=\"contentreyt\">{result['rating']}</div>\r\n                                        <div className=\"contentauthorhome\">\r\n                                        {result['authors'].map(function(result, i) {\r\n                                return (\r\n                                <span key={i}>\r\n                                {result['first_name']} {result['last_name']} \r\n                                </span>\r\n                                )\r\n                        }) }\r\n                                        </div>\r\n                                        <div className=\"contentviews\">\r\n                                        Жанр: {result['genres'].map(function(result, i) {\r\n                                return (\r\n                                <span key={i}>\r\n                                     {result['name']},\r\n                                </span>\r\n                                )\r\n                        }) }\r\n                        <div className=\"contentviews\">\r\n                                            Просмотров: {result['views']}\r\n                                        </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], cover_to_share: result['cover'], formodal_id: result['id'], }); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n                            </div>\r\n                            </div>\r\n                                )\r\n                    })}\r\n        </div>\r\n    </Panel>\r\n);\r\n\r\nexport default profile;","import React from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\r\nimport Select from '@vkontakte/vkui/dist/components/Select/Select';\r\nimport Icon24MoreVertical from '@vkontakte/icons/dist/24/more_vertical';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div'\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\n\r\nconst genre = ({id, this: love}) => (\r\n    <Panel id={id}>\r\n        <PanelHeader \r\n         left={<HeaderButton onClick={() => window.history.back()}><Icon24BrowserBack/></HeaderButton>}\r\n         >\r\n             Жанры\r\n         </PanelHeader>\r\n<FormLayout>\r\n                <Select\r\n                  top=\"Выберите жанр\"\r\n                  onChange={ ( e ) => {love.setState({genre_result_dop: e.target.value, genre_id_offset: 10}); love.goSelectGenres(e.target.value)}}\r\n                >\r\n                    {love.state.result_genres.map(function(result, i) {\r\n                            return (\r\n                                <option value={result['id']} key={i}>\r\n                                   {result['name']}\r\n                                </option>\r\n                            )\r\n                    })\r\n                    }\r\n                    </Select>\r\n              </FormLayout>\r\n              {love.state.books_genreresult.length === 0 ? <div className=\"errorsearch\">В жанре отсутствуют книги</div> :\r\n              love.state.books_genreresult.map(function(result, i) {\r\n                            return (\r\n                                <div key={i}>\r\n                                    <div className=\"allbooks\">\r\n                                        <img onClick={() => love.goBook(result[\"id\"])} alt=\"\" src={result['cover']}/>\r\n                                        <div onClick={() => love.goBook(result[\"id\"])} className=\"content\">\r\n                                        <div className=\"contenttitle\">{result['name']}</div>\r\n                                        <div className=\"contentreyt\">{result['rating']}</div>\r\n                                        <div className=\"contentauthorhome\">\r\n                                        {result['authors'].map(function(result, i) {\r\n                                return (\r\n                                <span key={i}>\r\n                                {result['first_name']} {result['last_name']} \r\n                                </span>\r\n                                )\r\n                        }) }\r\n                                        </div>\r\n                                        <div className=\"contentviews\">\r\n                                        Жанр: {result['genres'].map(function(result, i) {\r\n                                return (\r\n                                <span key={i}>\r\n                                     {result['name']},\r\n                                </span>\r\n                                )\r\n                        }) }\r\n                        <div className=\"contentviews\">\r\n                                            Просмотров: {result['views']}\r\n                                        </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"bottonfunctions\" onClick={() => {love.setState({formodal_title: result['name'], formodal_id: result['id'], book_id_forshare: result['id']}); love.openModalSettings(result['id'])}}><Icon24MoreVertical/></div>\r\n                            </div>\r\n                            </div>\r\n                                )\r\n                    })}\r\n                {\r\n                  love.state.genre_result_dop.length >= 10 ? \r\n                  <Div>\r\n                  <Button  size=\"xl\" level=\"secondary\" onClick={() => {love.setState({genre_id_offset: love.state.genre_id_offset + 10}); love.goSelectGenres_Load(love.state.dop_genre_id)}} style={{ marginRight: 8 }}>Загрузить ещё</Button>\r\n                  </Div>\r\n                  : null\r\n                  } \r\n</Panel>\r\n)\r\n\r\n\r\nexport default genre;","import React from 'react';\nimport Icon24MoreVertical from '@vkontakte/icons/dist/24/more_vertical';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\nimport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon24Newsfeed from '@vkontakte/icons/dist/24/newsfeed';\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\n\nvar months=[\n    'января',\n    'февраля',\n    'марта',\n    'апреля',\n    'мая',\n    'июня',\n    'июля',\n    'августа',\n    'сентября',\n    'ноября',\n    'декабря',\n ];\n\nfunction fix_month(month) {\n    return months[month]\n}\n\nfunction fix_time(time) {\n    if(time < 10) {\n        return '0' + time\n    } else {\n        return time\n    }\n}\n\nconst profile = ({ id, this: love}) => (\n    <Panel id={id} separator={false}>\n       <PanelHeader \n         left={<HeaderButton onClick={() => love.goBack()}><Icon24BrowserBack/></HeaderButton>}\n         >\n         </PanelHeader>\n         <div>\n             <div className=\"image_bookinfo\">\n                 <img src={love.state.selected_book['cover']}/>\n             </div>\n             <div className=\"title_bookinfo\">{love.state.name['first_name']} {love.state.name['last_name']} <span style={{fontWeight: \"300\"}}>поделился книгой</span><br/>{love.state.selected_book['name']}</div>\n            <div className=\"buttons_news\">\n            <button className=\"button_special\" id=\"reading\" style={{marginRight: \"10px\"}} onClick={() => love.ReadBook()}>Я тоже читал</button>\n            <button className=\"button_special\" onClick={() => love.goBook(love.state.contex)}>Хочу прочитать</button>\n            </div>\n            <div>\n                {love.state.specials.length === 0 ? <div className=\"error_special\">Никто ещё не прочитал данную книгу,<br/>Стань первым!</div> : \n                <div>\n                <div className=\"title_special\">Список прочитавших:</div>\n                <br/>\n                <div>\n                    {love.state.specials.map(function(result, i) {\n                        return (\n                            <div key={i}>\n                                <div className=\"people_special\">\n                                    <img className=\"people_special_img\" src={result['user']['photo_200']}/>\n                                    <div className=\"people_special_title\">{result['user']['first_name']} {result['user']['last_name']}</div>\n                                    <div className=\"people_special_desc\">{fix_time(new Date(result['time'] * 1e3).getDate())} {fix_month(new Date(result['time'] * 1e3).getMonth())} {new Date(result['time'] * 1e3).getFullYear()} в {fix_time(new Date(result['time'] * 1e3).getHours())}:{fix_time(new Date(result['time'] * 1e3).getMinutes())}</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n                    <div>\n                \n                    </div>\n                </div>\n                </div>\n                }\n            </div>\n         </div>\n    </Panel>\n);\n\nexport default profile;","import React from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader'\r\nimport Header from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton'\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\nimport Icon24Favorite from '@vkontakte/icons/dist/24/favorite';\r\nvar month = \"ноября\"\r\nfunction TimeShow(time) {\r\n    if(time === 0) {\r\n        month = \"января\"\r\n    }\r\n    if(time === 1) {\r\n        month = \"февраля\"\r\n    }\r\n    if(time === 2) {\r\n        month = \"марта\"\r\n    }\r\n    if(time === 3) {\r\n        month = \"апреля\"\r\n    }\r\n    if(time === 4) {\r\n        month = \"майя\"\r\n    }\r\n    if(time === 5) {\r\n        month = \"июня\"\r\n    }\r\n    if(time === 6) {\r\n        month = \"июля\"\r\n    }\r\n    if(time === 7) {\r\n        month = \"августа\"\r\n    }\r\n    if(time === 8) {\r\n        month = \"сентября\"\r\n    }\r\n    if(time === 9) {\r\n        month = \"октября\"\r\n    }\r\n    if(time === 10) {\r\n        month = \"ноября\"\r\n    }\r\n    if(time === 11) {\r\n        month = \"декабря\"\r\n    }\r\n}\r\n\r\nfunction fix_time(time) {\r\n    if(time < 10) {\r\n        return (\r\n            \"0\" + time\r\n        )\r\n    } else {\r\n        return (\r\n            time\r\n        )\r\n    }\r\n}\r\n\r\nconst bookscomment = ({ id, this: love }) => (\r\n    \r\n    <Panel id={id}>\r\n        <PanelHeader \r\n         left={<Header onClick={() => window.history.back()}><Icon24BrowserBack/></Header>}\r\n         >\r\n             Рецензии\r\n         </PanelHeader>\r\n        {\r\n            love.state.selected_book_comments['count'] === 0 ? \r\n            <div className=\"errorcomments\" style={{marginTop: \"270px\"}}>\r\n            \"Упс, рецензий еще нет!\"\r\n            </div> : null\r\n        }\r\n        {\r\n                        love.state.selected_book_comments['items'].map(function(result, i) {\r\n                        return (\r\n                           <Cell\r\n        // onClick={\r\n        //     () => love.openCommentAction(result['user']['first_name'], result['user']['last_name'], result['user']['id'], result['user']['photo_200']) \r\n        //     }\r\n            href={\"https://vk.com/id\" + result['user']['id']}\r\n            target=\"blank\"\r\n            component=\"a\"\r\n            key={i}\r\n            size=\"l\"\r\n            before={<Avatar style={{marginTop: \"5px\"}} size={55} src={result['user']['photo_200']}/>}\r\n        >\r\n          <div className=\"namefa\">{result['user']['first_name']} {result['user']['last_name']}</div>\r\n           <div className=\"rating\" style={{display: \"flex\"}}>\r\n                <Icon24Favorite width={15} height={15}  style={result['rate'] >= 1 ? {color: \"#fd7f10\"} : null}/>\r\n                <Icon24Favorite  width={15} height={15} style={result['rate'] >= 2 ? {color: \"#fd7f10\"} : null}/>\r\n                <Icon24Favorite  width={15} height={15} style={result['rate'] >= 3 ? {color: \"#fd7f10\"} : null}/>\r\n                <Icon24Favorite  width={15} height={15} style={result['rate'] >= 4 ? {color: \"#fd7f10\"} : null}/>\r\n                <Icon24Favorite  width={15} height={15} style={result['rate'] >= 5 ? {color: \"#fd7f10\"} : null}/>\r\n                <div className=\"commentstime\">\r\n            {new Date(result['date'] * 1e3).getDate()} \r\n            {\r\n            TimeShow(new Date(result['date'] * 1e3).getMonth())\r\n            }\r\n            {month} \r\n            {new Date(result['date'] * 1e3).getFullYear()} \r\n        ({fix_time(new Date(result['date'] * 1e3).getHours())}:{fix_time(new Date(result['date'] * 1e3).getMinutes())})</div>\r\n        </div>\r\n        <div className=\"commentcom\">{result['comment']}</div>\r\n      </Cell>\r\n                    \r\n                        )\r\n                })\r\n        }\r\n        \r\n    </Panel>\r\n);\r\n\r\nexport default bookscomment;","// Settings\nimport connect from '@vkontakte/vk-bridge';\n// CSS\nimport '@vkontakte/vkui/dist/vkui.css';\nimport React from \"react\";\n\n// Elements\n\t// import ActionSheet from '@vkontakte/vkui/dist/components/ActionSheet/ActionSheet';\n\t// import ActionSheetItem from '@vkontakte/vkui/dist/components/ActionSheetItem/ActionSheetItem';\n\timport View from '@vkontakte/vkui/dist/components/View/View';\n\timport Alert from '@vkontakte/vkui/dist/components/Alert/Alert';\n\timport ModalRoot from '@vkontakte/vkui/dist/components/ModalRoot/ModalRoot';\n\timport ModalPage from '@vkontakte/vkui/dist/components/ModalPage/ModalPage';\n\timport ModalPageHeader from '@vkontakte/vkui/dist/components/ModalPageHeader/ModalPageHeader';\n\timport HeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\n\timport List from '@vkontakte/vkui/dist/components/List/List';\n\timport Radio from '@vkontakte/vkui/dist/components/Radio/Radio';\n\timport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\n\timport Select from '@vkontakte/vkui/dist/components/Select/Select';\n\timport Textarea from '@vkontakte/vkui/dist/components/Textarea/Textarea';\n\timport Button from '@vkontakte/vkui/dist/components/Button/Button';\n\timport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\n\timport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\n\timport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\n\t// import Slider from '@vkontakte/vkui/dist/components/Slider/Slider';\n// Panels\nimport Home from './panels/home.js'\nimport Biography from \"./panels/biography.js\";\nimport Bookinfo from \"./panels/bookinfo.js\";\nimport AuthorInfo from './panels/authorinfo.js';\nimport Reader from './panels/reader.js';\nimport Profile from './panels/profile.js';\nimport Genre from './panels/genre.js'\nimport Special from './panels/special'\n\nimport MySpinner from './MySpinner.js';\n\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport Icon24LikeOutline from '@vkontakte/icons/dist/24/like_outline';\nimport Icon24Link from '@vkontakte/icons/dist/24/link';\nimport Icon24ShareExternal from '@vkontakte/icons/dist/24/share_external';\nimport Icon24Discussions from '@vkontakte/icons/dist/24/discussions';\nimport Icon24Newsfeed from '@vkontakte/icons/dist/24/newsfeed';\nimport Icon24Video from '@vkontakte/icons/dist/24/video';\nimport BooksCommment from './panels/bookscomment.js';\nimport eruda from 'eruda'\nconst queryString = require('query-string');\nconst parsedHash = queryString.parse(window.location.hash);\nconst location = queryString.parse(window.location.search.replace('?', ''));\n\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tactiveView: \"home\",\n\t\t\tpopout: <MySpinner/>,\n\t\t\tapi_url: \"https://api.xelene.me/book/?\",\n\t\t\terrorcodeforalert: \"\", \n\t\t\thelpnavigationg_array: \"home\",\n\t\t\ttest: {},\n\t\t\t// Массивы и все такое для работы с книгами и авторами.\n\t\t\tlistbooks: [],\n\t\t\tauthors_array: null,\n\t\t\tselected_book_authors_fist: \"\",\n\t\t\tselected_book_authors_two: \"\",\n\t\t\tselected_book: [],\n\t\t\tselected_book_authors: [],\n\t\t\tselected_book_comments: [],\n\t\t\tselected_book_comments_enter: [],\n\t\t\tsearchresult: [],\n\t\t\t// Модалочки\n\t\t\tactiveModal: null,\n\t\t\tmodalHistory: [],\n\t\t\thelp_id: 0,\n\t\t\tformodal_title: \"\",\n\t\t\tformodal_id: 1,\n\t\t\tis_favorite: false,\n\t\t\tis_rated: true,\n\t\t\tis_group_member: 1,\n\t\t\t// Other\n\t\t\treyt: 0,\n\t\t\tsearchQuery: \"\",\n\t\t\tsearchTimeout: 0,\n\t\t\tcommentforrezention_add: null,\n\t\t\tradio: \"1\",\n\t\t\tbooktext: <div></div>,\n\t\t\tfirstname: \"Имя\",\n\t\t\tlastname: \"Фамилия\",\n\t\t\tphoto_200: null,\n\t\t\tbiography_array: [],\n\t\t\tauthortitle: \"Автор\",\n\t\t\tauthorlast: \"Автор\",\n\t\t\tneed_access_key: \"\",\n\t\t\tbookstop: [],\n\t\t\tauthor_info: [],\n\t\t\tauthor_info_result: [],\n\t\t\tauthorbooks: [],\n\t\t\tid_author: 1,\n\t\t\tgenre_name: \"фантастика\",\n\t\t\tbooks_genreresult: [],\n\t\t\thelp_author: [],\n\t\t\tgenre_id: 1,\n\t\t\tdop_genre_id: 1,\n\t\t\tcover_to_share: 1,\n\t\t\t// Swipe\n\t\t\thistory: ['home'],\n\t\t\t// Profile\n\t\t\tbookhistory: null,\n\t\t\tbookfavorite: null,\n\t\t\tbookshistory_array: [],\n\t\t\tbooksfavorite_array: [],\n\t\t\tfavorite_array: [],\n\t\t\thistory_array: [],\n\t\t\tfavoritelength: [],\n\t\t\thistorylenght: [],\n\t\t\toffset_home: 10,\n\t\t\toffset_author: 0,\n\t\t\tlistbooks_result: [],\n\t\t\tsize: 0,\n\t\t\tsize_two: 0,\n\t\t\tbook_id_forshare: 0,\n\t\t\tauthor_id_forshare: 0,\n\t\t\tlink: \"\",\n\t\t\tgenre_id_offset: 10,\n\t\t\tgenre_result_dop: [],\n\t\t\tscheme: \"bright_light\",\n\n\t\t\tcontex: '',\n\t\t\towner_id: '',\n\t\t\tstory_id: '',\n\t\t\taccess_key: '',\n\t\t\tsticker_id: '',\n\n\t\t\tnames: [],\n\t\t\tspecials: [],\n\n\t\t\tisShowPromo: false,\n\t\t\tpromoBanner: {}\n\t\t\t};\n\t\tthis.closePopout = this.closePopout.bind(this);\n\t\tthis.Subscribe = this.Subscribe.bind(this);\n\t\tthis.modalBack = () => {\n\t\t    this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\n\t\t};\n\t\tthis.goBack = this.goBack.bind(this);\n\t\tthis.goForward = this.goForward.bind(this);\n\t\tthis.onCommentChange = this.onCommentChange.bind(this);\n\t}\n\n\tgoBack = () => {\n\t\tconst history = [...this.state.history];\n\t\thistory.pop()\n\t\tconst activePanel = history[history.length - 1];\n\t\tif (activePanel === 'home') {\n\t\t\tconnect.send('VKWebAppDisableSwipeBack');\n\t\t}\n\t\tif(history.length >= 1) {\n\t\t\tthis.setState({activeView: \"home\", activeModal: null, offset_author: 0, help_author: [], author_info_result: []})\n\t\t    this.setState({ history, activePanel});\n\t\t} else {\n\t\t\tthis.setState({activeView: \"home\", history: ['home'], activeModal: null, offset_author: 0, help_author: [], author_info_result: []})\n\t\t}\n\t  }\n\t\n\t  goForward = (activePanel) => {\n\t\tconst history = [...this.state.history];\n\t\thistory.push(activePanel);\n\t\tif (this.state.activePanel === 'home') {\n\t\t    connect.send('VKWebAppEnableSwipeBack');\n\t\t}\n\t\tthis.setState({ history, activePanel });\n\t  }\n\t  \n\n\tsetActiveModal(activeModal) {\n\t\tactiveModal = activeModal || null;\n\t\tlet modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\t\n\t\tif (activeModal === null) {\n\t\t  modalHistory = [];\n\t\t} else if (modalHistory.indexOf(activeModal) !== -1) {\n\t\t  modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n\t\t} else {\n\t\t  modalHistory.push(activeModal);\n\t\t}\n\t\n\t\tthis.setState({\n\t\t  activeModal,\n\t\t  modalHistory\n\t\t});\n\t  };\n\n\n\tcomponentDidMount() {\n\t\tconsole.log(window.location.search)\n\t\twindow.addEventListener('popstate', e => e.preventDefault() & this.goBack());\n\t\twindow.history.pushState({panel: 'home'}, `home`)\n\t\tconnect.send(\"VKWebAppGetAds\", {});\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tif( type === 'VKWebAppGetAdsResult' ) {\n\t\t\t\tthis.setState({promoBanner: data, isShowPromo: true})\n\t\t\t\tconsole.log(data)\n\t\t\t} else if( type === 'VKWebAppGetAdsFailed' ) {\n\t\t\t\tconsole.log(data)\n\t\t\t}\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n                if(data.scheme === \"space_gray\") {\n\t\t\t\t\tthis.setState({scheme: \"space_gray\"})\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#202122\"});\n                } else if (data.scheme === \"bright_light\") {\n\t\t\t\t\tthis.setState({scheme: \"bright_light\"})\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#e0e0e0\"});\n                } else if (data.scheme === \"client_light\") {\n\t\t\t\t\tthis.setState({scheme: \"bright_light\"})\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#e0e0e0\"});\n\t\t\t\t} else if (data.scheme === \"client_dark\") {\n\t\t\t\t\tthis.setState({scheme: \"space_gray\"})\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#202122\"});\n\t\t\t\t} \n\t\t\t}\n\t\t});\n\t\tconnect.send(\"VKWebAppGetUserInfo\", {});\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppGetUserInfoResult') {\n\t\t\t\tthis.setState({firstname: data.first_name, lastname: data.last_name, timezone: data.timezone, photo_200: data.photo_200})\n\t\t\t}\n\t\t\telse if (type === 'VKWebAppGetUserInfoFailed') {\n\t\t\t\tthis.setState({errorcodeforalert: \"Зайдите через официальное приложение!\"})\n\t\t\t    this.showZaprosFailedAun();\n\t\t\t}\n\t\t});\n\t\tif(parsedHash.book_id !== undefined) {\n\t\t\t\tthis.goBook(parsedHash.book_id)\n\t\t}\n\t\telse if (parsedHash.author_id !== undefined){\n\t\t\t\tthis.goAuthor(parsedHash.author_id)\n\t\t}\n\t\tif(location.vk_ref.search('story') === 0) {\n\t\t\tvar story = location.vk_ref.split(\"_\")\n\t\t\tvar owner_id = Number(story[0].split(\"story\")[1])\n\t\t\tvar story_id = story[1]\n\t\t\tvar access_key = story[2]\n\t\t\tvar sticker_id = story[3]\n\t\t\tthis.setState({contex: atob(story[4]), owner_id: owner_id, story_id: story_id, access_key_story: access_key, sticker_id: sticker_id})\n\t\t\tthis.getAccountOwner(owner_id, atob(story[4]))\n\t\t\tconsole.log(\"Owner id \" + owner_id)\n\t\t\tconsole.log(\"Story id \" + story_id)\n\t\t\tconsole.log(\"access key \" + access_key)\n\t\t\tconsole.log(\"sticker id \" + sticker_id)\n\t\t\tconsole.log(\"contex \" + atob(story[4]))\n\t\t}\n\t\tfetch(this.state.api_url + \"method=account.get&\"+ window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tif(Number(location.vk_user_id) === 338598380) {\n\t\t\t\t\tsetTimeout(() => eruda.init(), 10000)\n\t\t\t\t}\n\t\t\t\tconsole.log(result.response)\n\t\t\tthis.goTop()\n\t\t\tthis.setState({\n\t\t\t\tis_group_member: result.response['is_group_member'],\n\t\t\t\tfavoritelength:  result.response['favorite'],\n\t\t\t\thistorylenght:  result.response['books_history'],})\n\t\t\t}\n\t\t})\n\t\tthis.LoadBooks()\n\t}\n    go = (e) => {\n\t\tthis.setState({activeModal: null})\n\t\tthis.setState({activePanel: e.currentTarget.dataset.to});\n\t\twindow.history.pushState({panel: e.currentTarget.dataset.to}, `${e.currentTarget.dataset.to}`);\n\t}\n\tSubscribe() {\n\t\tconsole.log(14354)\n\t\tthis.setState({is_group_member: 1})\n\t\tconnect.send(\"VKWebAppJoinGroup\", {\"group_id\": 183054783});\n\t}\n\n\tgetAccountOwner(user_id, book_id) {\n\t\tfetch(this.state.api_url + \"method=user.getByVKId&user_id=\" + user_id + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({name: result.response})\n\t\t\t    this.getInfoBook(book_id)\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Упс. Что то пошло не так.\"});\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\n\tgetInfoBook(book_id) {\n\t\tfetch(this.state.api_url + \"method=book.getById&book_id=\" + book_id + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({selected_book: result.response})\n\t\t\t\tthis.goSpecial(book_id)\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Упс. Что то пошло не так.\"});\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\t\n\tgoSpecial(book_id) {\n\t\tfetch(this.state.api_url + \"method=book.getReadersList&book_id=\" + book_id + \"&count=20&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tconsole.log(result.response)\n\t\t\t\twindow.history.pushState({panel: 'special'}, `special`);\n\t\t\t\tthis.setState({specials: result.response})\n\t\t\t\tthis.setState({activePanel: \"special\", history: [...this.state.history, \"special\"]})\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Упс. Что то пошло не так.\"});\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\n\tReadBook() {\n\t\tdocument.getElementById(\"reading\").classList.add(\"button_special_after\")\n\t\tdocument.getElementById(\"reading\").classList.remove(\"button_special\")\n\t\tconnect.send(\"VKWebAppSubscribeStoryApp\", {\"story_owner_id\": Number(this.state.owner_id), \"story_id\": Number(this.state.story_id), \"access_key\": this.state.access_key_story, \"sticker_id\": Number(this.state.sticker_id)});\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tconsole.log(type, data)\n\t\t\tif (type === 'VKWebAppSubscribeStoryAppResult') {\n\t\t\t\tconsole.log(data.access_key)\n\t\t\t\tfetch(this.state.api_url + \"method=book.iRead&book_id=\" + this.state.contex + \"&access_key=\" + data.access_key + \"&\" + window.location.search.replace('?', ''))\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(result => {\n\t\t\t\tif(result) {\n\t\t\t\t\tthis.goSpecial(this.state.contex)\n\t\t\t\t\tconsole.log(result)\n\t        \t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t\t} \n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t}\n\n\n\tLoadBooks() {\n\t\tfetch(this.state.api_url + \"method=books.get&offset=0&count=10&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({listbooks: result.response, listbooks_result: result.response, popout: null})\n\t        }\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t} \n\t\t})\n\t}\n\tLoadBooks_Load() {\n\t\tthis.setState({popout: <MySpinner/>})\n\t\tthis.setState({offset_home: this.state.offset_home + 10})\n\t\tfetch(this.state.api_url + \"method=books.get&offset=\" + this.state.offset_home + \"&count=10&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tvar sliyan = this.state.listbooks.concat(result.response)\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({listbooks: sliyan, listbooks_result: result.response, popout: null})\n\t        }\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t} \n\t\t})\n\t}\n\tgoBiography() {\n\t\tfetch(this.state.api_url + \"method=authors.get&\"+ window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\twindow.history.pushState({panel: 'biography'}, `biography`);\n\t\t\t\tthis.setState({\n\t\t\t\t\tactivePanel: \"biography\", \n\t\t\t\t\thistory: [...this.state.history, 'biography'],\n\t\t\t\t    biography_array: result.response})\n\t\t\t} else {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Ошибка подключения к интернету\"})\n\t\t\tthis.showZaprosFailedAun();\n\t\t})\n\t}\n\n\tgoTop() {\n\t\tthis.setState({popout: <MySpinner/>,\n\t\t\t activeModal: null\n\t\t})\n\t\tfetch(this.state.api_url + \"method=books.getTop&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({\n\t\t\t\tpopout: null, \n\t\t\t\tbookstop: result.response})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\n\taddFavourite(book_id) {\n\t\tthis.setState({popout: <MySpinner/>\n\t\t})\n\t\tfetch(this.state.api_url + \"method=favorite.add&book_id=\" + book_id + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({popout: null, is_favorite: true})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\tdeleteFavourite(book_id) {\n\t\tthis.setState({\n\t\t\tpopout: <MySpinner/>,\n\t\t})\n\t\tfetch(this.state.api_url + \"method=favorite.delete&book_id=\" + book_id + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({popout: null, is_favorite: false})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\n\tShareBookToWall() {\n\t\tthis.setState({activeModal: null})\n\t\tconnect.send(\"VKWebAppShowWallPostBox\", {\"message\": \"vk.com/books_app#book_id=\" + this.state.book_id_forshare, \"attachments\": \"vk.com/books_app\" });\n\t}\n\tShareBookToMessage() {\n\t\tthis.setState({activeModal: null})\n\t\tconnect.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/books_app#book_id=\" + this.state.book_id_forshare});\n\t}\n\n\tShareAuthorToWall() {\n\t\tthis.setState({activeModal: null})\n\t\tconnect.send(\"VKWebAppShowWallPostBox\", {\"message\": \"vk.com/books_app#author_id=\" + this.state.author_id_forshare, \"attachments\": \"vk.com/books_app\" });\n\t}\n\tShareAuthorToMessage() {\n\t\tthis.setState({activeModal: null})\n\t\tconnect.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/books_app#author_id=\" + this.state.author_id_forshare});\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min)) + min;\n\t}\n\n\tgoBook(book_id) {\n\t\tconsole.log(book_id)\n\t\tlet a = this.getRandomInt(1, 1500)\n\t\tif(a === 1) {\n\t\t\tthis.Subscribe()\n\t\t}\n\n\t\tthis.setState({activeModal: null, popout: \n\t\t\t<MySpinner/>, size: window.pageYOffset, size_two: document.documentElement.clientWidth\n\t\t})\n\t\tfetch(this.state.api_url + \"method=book.getById&book_id=\" + book_id + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\twindow.history.pushState({panel: 'bookinfo'}, `bookinfo`);\n\t\t\t\tthis.setState({\n\t\t\t\t\tselected_book: result.response,\n\t\t\t\t\tpopout: null, \n\t\t\t\t\tactivePanel: \"bookinfo\",\n\t\t\t\t\thistory: [...this.state.history, 'bookinfo']\n\t\t\t\t\n\t\t\t\t})\n\t\t\t\tthis.setState({selected_book_authors: this.state.selected_book['authors']})\n\t\t\t\tthis.setState({selected_book_authors_fist: this.state.selected_book_authors['0'].first_name,selected_book_authors_two: this.state.selected_book_authors['0'].last_name})\n\t\t\t\tthis.setState({is_favorite: this.state.selected_book['is_favorite']})\n\t\t\t\tthis.setState({is_rated: this.state.selected_book['is_rated'], id_author: result.response.authors['0']['id']})\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\n\tgoGenresGetBooks() {\n\t\tthis.setState({popout: <MySpinner/>})\n\t\tfetch(this.state.api_url + \"method=genres.get&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.goSelectGenres(1);\n\t\t\t\twindow.history.pushState({panel: 'genre'}, `genre`);\n\t\t\t\tthis.setState({ result_genres: result.response, activePanel: 'genre', history: [...this.state.history, 'genre'], popout: null })\n\t\t\t} else {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Ошибка подключения к интернету\"})\n\t\t\tthis.showZaprosFailedAun();\n\t\t})\n\t}\n\n\tgoSelectGenres(genre_id) {\n\tthis.setState({popout: <MySpinner/>})\n\t\tfetch(this.state.api_url + \"method=books.getByGenre&genre_id=\" + genre_id + \"&count=10&offset=\" + this.state.genre_id_offset+ \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({ \n\t\t\t\t\tgenre_result_dop: result.response,\n\t\t\t\t\tbooks_genreresult: result.response,\n\t\t\t\t\tpopout: null,\n\t\t\t\t    genre_id_offset: 20 })\n\t\t\t} else {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Ошибка подключения к интернету\"})\n\t\t\tthis.showZaprosFailedAun();\n\t\t})\n\t}\n\n\tgoSelectGenres_Load(genre_id) {\n\t\tthis.setState({popout: <MySpinner/>})\n\t\t\tfetch(this.state.api_url + \"method=books.getByGenre&genre_id=\" + genre_id + \"&count=10&offset=\" + this.state.genre_id_offset+ \"&\" + window.location.search.replace('?', ''))\n\t\t\t.then(res => res.json())\n\t\t\t.then(result => {\n\t\t\t\tif(result.response) {\n\t\t\t\t\tvar sliyan = this.state.books_genreresult.concat(result.response)\n\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\tgenre_result_dop: result.response,\n\t\t\t\t\t\tbooks_genreresult: sliyan,\n\t\t\t\t\t\tpopout: null })\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t\t}\n\t\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({errorcodeforalert: \"Ошибка подключения к интернету\"})\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t})\n\t\t}\n\n\n\tgoAuthor(author_id) {\n\t\t\tfetch(this.state.api_url + \"method=books.getByAuthor&author_id=\" + author_id + \"&offset=\" + this.state.offset_author + \"&count=10&\" + window.location.search.replace('?', ''))\n\t\t\t.then(res => res.json())\n\t\t\t.then(result => {\n\t\t\t\tif(result.response) {\n\t\t\t\t\tif (this.state.author_info_result.length === 0) {\n\t\t\t\t\t\tfetch(this.state.api_url + \"method=author.getById&author_id=\" + author_id + \"&\" + window.location.search.replace('?', ''))\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tif(result.response) {\n\t\t\t\t\t\t\t\twindow.history.pushState({panel: 'authorinfo'}, `authorinfo`);\n\t\t\t\t\t\t\t\tthis.setState({author_info: result.response, activePanel: \"authorinfo\", popout: null, history: [...this.state.history, 'authorinfo']})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\t\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setState({author_info_result: result.response, help_author: result.response})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar slyan = this.state.author_info_result.concat(result.response)\n\t\t\t\t\t\tthis.setState({author_info_result: slyan, help_author: result.response, popout: null})\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({offset_author: this.state.offset_author + 10})\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t\t}\n\t\t\t })\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({errorcodeforalert: \"Ошибка подключения к интернету\"})\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t})\n\t\tthis.setState({activeModal: null, popout: \n\t\t\t<MySpinner/>\n\t\t})\n\n\t}\n\n\tgetProfile() {\n\t\tthis.setState({popout: <MySpinner/>})\n\t\tfetch(this.state.api_url + \"method=account.get&\"+ window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\twindow.history.pushState({panel: 'profile'}, `profile`);\n\t\t\tthis.setState({\n\t\t\t\tis_group_member: result.response['is_group_member'],\n\t\t\t\tfavorite_array:  result.response['favorite'],\n\t\t\t\thistory_array:  result.response['books_history'],\n\t\t\t\tactivePanel: 'profile',\n\t\t\t\thistory: [...this.state.history, 'profile'],\n\t\t\t\thistorylenght: result.response['books_history'],\n\t\t\t\tfavoritelength: result.response['favorite'],\n\t\t\t\tpopout: null\n\t\t\t     })\n\t\t\t}\n\t\t\tthis.getBooksForProfileHistory();\n\t\t\tthis.getBooksForProfileFavorite();\n\t\t})\n\t}\n\n\tgetBooksForProfileHistory() {\n\t\tfetch(this.state.api_url + \"method=books.getByIds&book_ids=\" + this.state.history_array.join() + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => { \n\t\t\tthis.setState({bookshistory_array: result.response})\n\t\t}\n\t\t)\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\tgetBooksForProfileFavorite() {\n\t\tfetch(this.state.api_url + \"method=books.getByIds&book_ids=\" + this.state.favorite_array.join() + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => { \n\t\t\tthis.setState({booksfavorite_array: result.response})\n\t\t}\n\t\t)\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n    \n\n\tcommentsGet(book_id) {\n\t\tthis.setState({popout: \n\t\t\t<MySpinner/>\n\t\t})\n\t\tfetch(this.state.api_url + \"method=comments.get&book_id=\" + book_id+ \"&count=500&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\twindow.history.pushState({panel: 'bookscomment'}, `bookscomment`);\n\t\t\t\tthis.setState({selected_book_comments: result.response})\n\t\t\t\tthis.setState({ popout: null, activePanel: \"bookscomment\",  history: [...this.state.history, 'bookscomment']})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n    \n\tcommentsAdd(book_id) {\n\t\tthis.setState({popout: <MySpinner/>})\n\t\tthis.setState({activeModal: null})\n\t\tif(this.state.reyt === 0) {\n\t\t\tthis.showZaprosFailedAun(\"Нужно указать оценку!\");\n\t\t} else {\n\t\tfetch(this.state.api_url + \"method=comment.add&book_id=\" + book_id+ \"&rate=\" + this.state.reyt + \"&comment=\" + this.state.commentforrezention_add+ \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tconsole.log(result)\n\t\t\t\tthis.setState({activeModal: null, popout: null, is_rated: true})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err)\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\t}\n\t\n\t// openCommentAction(firstname, lastname, id, image) {\n\t// \t// const queryString = require('query-string');\n\t// \t// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\n\t// \tthis.setState({link: \"https://vk.com/id\" + id})\n\t// \tthis.setState({ popout:\n\t// \t  <ActionSheet onClose={() => this.setState({ popout: null })}>\n\t// \t\t<ActionSheetItem autoclose onClick={() => this.fireEvent()}>\n\t// \t\t  {firstname} {lastname}\n\t// \t\t</ActionSheetItem>\n\t// \t\t{/* {console.log(\"Пришедший id с подписи: \" + parsedHash.vk_user_id)}\n\t// \t\t{String(parsedHash.vk_user_id) === String(id) ? \n\t// \t\t<ActionSheetItem autoclose>\n\t// \t\t  Редактировать\n\t// \t\t</ActionSheetItem>\n\t// \t\t: null} */}\n\t// \t\t<ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>\n\t// \t  </ActionSheet>\n\t// \t});\n\t//   }\n\t// Алерты\n\n\tdeleteHistory() {\n\t\tthis.setState({popout: \n\t\t\t<Alert\n\t\t\t\tactionsLayout=\"vertical\"\n\t\t\t\tactions={[\n\t\t\t\t\t{\n\t\t\t\t\ttitle: 'Подтвердить',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\taction: () => this.ClearHistory(),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\ttitle: 'Отмена',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tstyle: 'cancel'\n\t\t\t\t  }]}\n\t\t\t\tonClose={this.closePopout}\n\t\t\t  >\n\t\t\t\t<h2>Уверен?</h2>\n\t\t\t\t<p>Вы точно хотите удалить историю?</p>\n\t\t\t  </Alert>\n\t\t\t  });\n\t}\n\n\tClearHistory() {\n\t\tthis.setState({popout: <MySpinner/>})\n\t\tfetch(this.state.api_url + \"method=history.clear&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\tif(result.response) {\n\t\t\t\tthis.setState({popout: null, historylenght: [], bookshistory_array: []})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t}\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\tshowZaprosFailedAun(error) {\n\t\tthis.setState({popout: \n\t\t\t<Alert\n\t\t\t\tactionsLayout=\"vertical\"\n\t\t\t\tactions={[{\n\t\t\t\t  title: 'Отмена',\n\t\t\t\t  autoclose: true,\n\t\t\t\t  style: 'cancel'\n\t\t\t\t}]}\n\t\t\t\tonClose={this.closePopout}\n\t\t\t  >\n\t\t\t\t<h2>Ошибка</h2>\n\t\t\t\t<p>{error != undefined ? error : this.state.errorcodeforalert}</p>\n\t\t\t  </Alert>\n\t\t\t  });\n\t}\n\n\tclosePopout() {\n\t\tthis.setState({popout: null});\n\t}\n\n\t// Другое\n\toptions () {\n\t\tlet options = [];\n\t\tfor (let i = 0; i <= 100; i += 1) {\n\t\t  options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>)\n\t\t}\n\t\treturn options;\n\t  }\n\n\n    getReaderBook(url_forbook) {\n\t\tthis.setState({popout: <MySpinner/>})\n\n\t\tvar url = url_forbook;\n\t\tvar method = 'GET';\n\t\tvar async = true;\n\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open( method, url, async );\n\t\txhr.send();\n\n\t\txhr.onreadystatechange = () => {\n\t\t\tif ( xhr.readyState !== 4 ) return;\n\n\t\t\tif ( xhr.status === 200 ) {\n\t\t\t\tvar response = xhr.responseText;\n\t\t\t\twindow.history.pushState({panel: 'reader'}, `reader`);\n\t\t\t\tthis.setState({booktext: response, activePanel: \"reader\", history: [...this.state.history, 'reader']});\n\t\t\t\tsetTimeout(() => this.setState({popout: null}), 1000)\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = ( error ) => {\n\t\t\tconsole.error( error );\n\t\t}\n\t}\n\n\tonCommentChange(commentforrezention_add) {\n\t\tthis.setState({ commentforrezention_add: commentforrezention_add.target.value});\n\t}\n\n\topenModalSettings(book_id) {\n\t\tfetch(this.state.api_url + \"method=book.isFavorite&book_id=\" + book_id + \"&\" + window.location.search.replace('?', ''))\n\t\t.then(res => res.json())\n\t\t.then(result => {\n\t\t\t\tthis.setState({activeModal: \"modal\", is_favorite: result.response})\n\t\t})\n\t\t.catch(err => {\n\t\t\tthis.setState({errorcodeforalert: \"Упс. Что то пошло не так.\"});\n\t\t\tthis.showZaprosFailedAun();\n\t\t});\n\t}\n\n\topenModalAuthor() {\n\t\tthis.setState({activeModal: \"author\"})\n\t}\n\t\n\tinputChange = ( e ) => {\n\t\tclearTimeout( this.state.searchTimeout );\n\t\tthis.setState( {\n\t\tsearchQuery: e.target.value,\n\t\tsearchTimeout: setTimeout( this.search, 650 )\n\t\t} );\n\t\t}\n\t\t\n\t\tsearch = () => {\n\t\tif(this.state.searchQuery.length > 3){\n\t\t\tfetch(this.state.api_url + \"method=search.getResults&type=\"+ this.state.radio + \"&count=20&q=\" + this.state.searchQuery + \"&\" + window.location.search.replace('?', ''))\n\t\t\t.then(res => res.json())\n\t\t\t.then(result => {\n\t\t\t\tif(result.response) {\n\t\t\t\t\tthis.setState({searchresult: result.response})\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\tthis.setState({errorcodeforalert: result.error.message});\n\t\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.showZaprosFailedAun();\n\t\t\t})\n\t\t}\n\t}\n\n\ttoDataURL(url) {\n\t\tthis.setState({popout: <MySpinner/>, activeModal: null})\n\t\tconsole.log(url)\n\t\tvar global = this\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.onload = function() {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onloadend = function() {\n\t\t\t\tif ( xhr.readyState !== 4 ) return;\n\t\t\t\tif ( xhr.status === 200 ) {\n\t\t\t\t\tconsole.log(reader.result)\n\t\t\t\t\tglobal.sendHistory_Okey(reader.result)\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.readAsDataURL(xhr.response);\n\t\t};\n\t\txhr.open('GET', url);\n\t\txhr.responseType = 'blob';\n\t\txhr.send();\n\t}\n\n\tsendHistory_Okey(url) {\n\t\tconnect.send(\"VKWebAppShowStoryBox\", \n\t\t{ \n\t\t\t\"background_type\": \"none\",\n\t\t\t\"stickers\": [ \n\t\t\t  { \n\t\t\t\t\"sticker_type\": \"renderable\", \n\t\t\t\t\"sticker\": { \n\t\t\t\t  \"content_type\": \"image\", \n\t\t\t\t  \"blob\": url,\n\t\t\t\t  \"clickable_zones\": [ \n\t\t\t\t\t{ \n\t\t\t\t\t  \"action_type\": \"app\", \n\t\t\t\t\t  \"action\": { \n\t\t\t\t\t\t\"app_id\": 7031064, \n\t\t\t\t\t\t\"app_context\": String(this.state.selected_book['id']) \n\t\t\t\t\t  }\n\t\t\t\t\t} \n\t\t\t\t  ] \n\t\t\t\t} \n\t\t\t  } \n\t\t\t] \n\t\t  }\n\t\t)\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppShowStoryBoxFailed') {\n\t\t\t\teruda.init()\n\t\t\t\tconsole.log(data)\n                this.setState({popout: null})\n\t\t\t}\n\t\t\tif (type === 'VKWebAppShowStoryBoxResult') {\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.setState({popout: null})\n\t\t\t}\n\t\t});\n\t}\n\n\n\trender() {\n\t\tconst modal = (\n\t\t\t<ModalRoot activeModal={this.state.activeModal}>\n\t\t\t\t<ModalPage\n\t\t\t\tid=\"author\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>Готово</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\t{this.state.authorlast}\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t  \n\t\t\t\t}\n\t\t\t  >\n\t\t\t\t  <List>\n            <CellButton style={{userSelect: \"none\" }} before={<Icon24ShareExternal />} onClick={() => this.setActiveModal('share_author')}>Поделиться</CellButton>\n            <CellButton style={{userSelect: \"none\" }} before={<Icon24Link />} onClick={() => this.goAuthor(this.state.help_id)}>Открыть</CellButton>\n              </List>\n              </ModalPage>\n\t\t\t\t<ModalPage\n\t\t\t\tid=\"search\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>Готово</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\tФильтр\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t  \n\t\t\t\t}\n\t\t\t\t\n\t\t\t  >\n<FormLayout>\n        <div>\n\t\t{this.state.radio === \"0\" ? \n\t<Radio name=\"radio\" value=\"0\" defaultChecked onChange={ ( e ) => { this.setState( {searchQuery: \"\",searchresult: [], radio: e.target.value} ) }}>Общий поиск</Radio>\n\t: \n\t<Radio name=\"radio\" value=\"0\" onChange={ ( e ) => { this.setState( {searchQuery: \"\",searchresult: [],radio: e.target.value} ) }}>Общий поиск</Radio>\n\t}\n\t{this.state.radio === \"1\" ? \n\t<Radio name=\"radio\" value=\"1\" defaultChecked onChange={ ( e ) => { this.setState( {searchQuery: \"\",searchresult: [],radio: e.target.value} ) }}>Поиск по книгам</Radio>\n\t: \n\t<Radio name=\"radio\" value=\"1\" onChange={ ( e ) => { this.setState( {searchQuery: \"\",searchresult: [],radio: e.target.value} ) }}>Поиск по книгам</Radio>\n\t} \n    {this.state.radio === \"2\" ? \n\t<Radio name=\"radio\" value=\"2\" defaultChecked onChange={ ( e ) => { this.setState( {searchQuery: \"\", searchresult: [],radio: e.target.value} ) }}>Поиск по авторам</Radio>\n\t: \n\t<Radio name=\"radio\" value=\"2\" onChange={ ( e ) => { this.setState( {searchQuery: \"\", searchresult: [],radio: e.target.value} ) }}>Поиск по авторам</Radio>\n\t}\n\t\n\t\t\t  <br/>\n\t\t\t  <br/>\n        </div>\n      </FormLayout>\n\t\t\t  </ModalPage>\n\t\t\t\t<ModalPage\n\t\t\t\tid=\"modals\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tleft={<HeaderButton onClick={this.modalBack}>Закрыть</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\tРецензия\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t  \n\t\t\t\t}\n\t\t\t\t\n\t\t\t  >\n\t\t\t\t <FormLayout >\n\t\t\t\t <FormLayoutGroup top=\"Можешь выбрать, что хочешь\">\n\t\t\t\t <Select placeholder=\"Выберите оценку\" onChange={ ( e ) => { this.setState( {reyt: e.target.value} ) }}>\n<option value=\"1\">1</option>\n<option value=\"2\">2</option>\n<option value=\"3\">3</option>\n<option value=\"4\">4</option>\n<option value=\"5\">5</option>\n</Select>\n</FormLayoutGroup>\n                <FormLayoutGroup maxLength=\"2000\" top={this.state.commentforrezention_add === null ? null : \"Символов: \" + this.state.commentforrezention_add.length + \"/2000\"}>\n                    <Textarea maxLength=\"2000\" placeholder=\"Тут напиши свою рецензию, но помни - она видна всем!\" value={this.state.commentforrezention_add} onChange={this.onCommentChange}/>\n                </FormLayoutGroup>\n\t\t\t\t<FormLayoutGroup>\n\t\t\t\t<Button  className=\"modalfidback\" size=\"xl\" level=\"secondary\" before={<Icon24Add/>} onClick={() => this.commentsAdd(this.state.selected_book['id'])}>Отправить</Button>\n</FormLayoutGroup>\n\t\t\t\t</FormLayout>\n\t\t\t  </ModalPage>\n\t\t\t  <ModalPage\n\t\t\t\tid=\"modal\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>Закрыть</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\t{this.state.formodal_title}\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t  \n\t\t\t\t}\n\t\t\t\t\n\t\t\t  >\n\t\t\t\t<List>\n\t\t\t{this.state.is_favorite === true ? \n\t\t\t<CellButton style={{userSelect: \"none\" }} before={<Icon24Like />} onClick={() => this.deleteFavourite(this.state.formodal_id)}>Удалить из избранного</CellButton>\n\t\t\t:\n\t\t\t<CellButton style={{userSelect: \"none\" }} before={<Icon24LikeOutline />} onClick={() => this.addFavourite(this.state.formodal_id)}>Добавить в избранное</CellButton>\n\t\t\t}\n            <CellButton style={{userSelect: \"none\" }} before={<Icon24ShareExternal />} onClick={() => this.setActiveModal('share_book')}>Поделиться</CellButton>\n            <CellButton style={{userSelect: \"none\" }} before={<Icon24Link />} onClick={() => this.goBook(this.state.formodal_id)}>Открыть</CellButton>\n              </List>\n\t\t\t  </ModalPage>\n\t\t\t  <ModalPage\n\t\t\t\tid=\"share_book\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>Закрыть</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\tПоделиться\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t}\n\t\t\t  >\n\t\t\t\t  <CellButton style={{userSelect: \"none\" }} before={<Icon24Video />} onClick={() => this.toDataURL(\"https://api.xelene.me/book/sticker/index.php?url=\" + this.state.cover_to_share)}>В истории</CellButton>\n\t\t\t\t  <CellButton style={{userSelect: \"none\" }} before={<Icon24Newsfeed />} onClick={() => this.ShareBookToWall()}>На стену</CellButton>\n            <CellButton style={{userSelect: \"none\" }} before={<Icon24Discussions />} onClick={() => this.ShareBookToMessage()}>В личные сообщения</CellButton>\n\t\t\t  </ModalPage>\n\t\t\t  <ModalPage\n\t\t\t\tid=\"settings_reader\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>Закрыть</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\tПоделиться\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t}\n\t\t\t  >\n\t\t\t\t  <CellButton style={{userSelect: \"none\" }} before={<Icon24Newsfeed />} onClick={() => {this.setState({popout: <MySpinner/>, activeModal: null}); this.getVisibleIndex()}}>Сохранить</CellButton>\n\t\t\t  </ModalPage>\n\t\t\t  <ModalPage\n\t\t\t\tid=\"share_author\"\n\t\t\t\tonClose={this.modalBack}\n\t\t\t\theader={\n\t\t\t\t  <ModalPageHeader\n\t\t\t\t\tright={<HeaderButton onClick={this.modalBack}>Закрыть</HeaderButton>}\n\t\t\t\t  >\n\t\t\t\t\tПоделиться\n\t\t\t\t  </ModalPageHeader>\n\t\t\t\t}\n\t\t\t  >\n\t\t\t\t  <CellButton style={{userSelect: \"none\" }} before={<Icon24Newsfeed />} onClick={() => this.ShareAuthorToWall(this.state.help_id)}>На стену</CellButton>\n            <CellButton style={{userSelect: \"none\" }} before={<Icon24Discussions />} onClick={() => this.ShareAuthorToMessage(this.state.help_id)}>В личные сообщения</CellButton>\n\t\t\t  </ModalPage>\n\t\t\t  </ModalRoot>\n\t\t);\n\t\treturn (\n\t\t\t<ConfigProvider isWebView={true} scheme={this.state.scheme}>\n\t\t\t\t<View \n\t\t\t\tid=\"home\" \n\t\t\t\tactivePanel={this.state.activePanel} \n\t\t\t\tpopout={this.state.popout}  \n\t\t\t\theader={true}\n\t\t\t\tmodal={modal}\n\t\t\t\tonSwipeBack={this.goBack}\n                history={this.state.history}\n\t\t\t\t>\n\t\t\t\t    <Home id=\"home\" go={this.go} this={this}/>\n\t\t\t\t\t<Special id=\"special\" this={this}/>\n\t\t\t\t    <Profile id=\"profile\" go={this.go} this={this}/>\n\t\t\t\t    <Biography id=\"biography\" go={this.go} this={this} />\n\t\t\t\t\t<Genre id='genre' go={this.go} this={this}/>\n\t\t\t\t\t<Bookinfo id=\"bookinfo\" go={this.go} this={this}/>\n\t\t\t\t    <AuthorInfo id=\"authorinfo\" go={this.go} this={this}/>\n\t\t\t\t\t<BooksCommment id=\"bookscomment\" go={this.go} this={this}/>\n\t\t\t\t\t<Reader id=\"reader\" go={this.go} this={this}/>\n\t\t\t\t</View>\n\t\t\t</ConfigProvider>\n\t\t\t)\n\t\t  }\n\t\t}\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-bridge';\nimport App from './App';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\nimport {platform, IOS} from '@vkontakte/vkui';\n\n\nconnect.send('VKWebAppInit', {});\nconst root = document.getElementById('root');\nif(platform() === IOS) {\n    mVKMiniAppsScrollHelper(root);\n}\nReactDOM.render(<App />, root); "],"sourceRoot":""}