(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){},143:function(e,t,a){e.exports=a(252)},252:function(e,t,a){"use strict";a.r(t);a(144),a(197);var n=a(0),o=a.n(n),r=a(93),s=a.n(r),l=a(28),i=a.n(l),c=a(37),m=a(62),u=a(63),d=a(71),h=a(64),f=a(72),p=a(29),v=(a(223),a(126),a(142)),E=a.n(v),k=a(98),g=a.n(k),_=a(138),b=a.n(_),y=a(46),w=a.n(y),N=a(47),S=a.n(N),C=a(7),B=a.n(C),A=a(99),j=a.n(A),M=a(51),F=a.n(M),P=a(30),O=a.n(P),x=a(70),T=a.n(x),Z=a(140),W=a.n(Z),V=a(36),z=a.n(V),Q=a(74),I=a.n(Q),L=a(57),H=a.n(L),G=a(141),R=a.n(G),K=a(139),D=a.n(K),Y=a(19),U=a.n(Y),J=a(67),X=a.n(J),q=a(66),$=a.n(q),ee=a(65),te=a.n(ee),ae=a(94),ne=a.n(ae),oe=a(13),re=a.n(oe),se=a(14),le=a.n(se),ie=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,null,"\u041a\u043d\u0438\u0433\u0438"),o.a.createElement("div",{style:{msOverflowX:"hidden"}},o.a.createElement(te.a,{style:{marginTop:"8px"},onClick:function(){return a.getProfile()},size:"l",before:o.a.createElement($.a,{style:{marginTop:"5px",marginLeft:"5px",background:"linear-gradient(to bottom, #ff5adf, #ff8d82)"},size:55,src:a.state.photo_200})},o.a.createElement("div",{className:"namehome"},a.state.firstname," ",a.state.lastname),o.a.createElement("div",{className:"nearnamehome"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f: ",Object.keys(a.state.historylenght).length,", \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",Object.keys(a.state.favoritelength).length)),o.a.createElement("br",null),o.a.createElement("div",{className:"SearchMobile__input"},o.a.createElement("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a",type:"text",maxLength:"100",value:a.state.searchQuery,onChange:a.inputChange}),o.a.createElement("div",{className:"SearchMobile__to-filters-wrapper",onClick:function(){return a.setState({activeModal:"search"})}},o.a.createElement("span",{className:"SearchMobile__to-filters"}))),0===a.state.searchQuery.length?1===a.state.is_group_member?o.a.createElement(ne.a,{style:{height:"165px"}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{marginLeft:"20px"},className:"hometop-near_first",onClick:function(){return a.goTop()}},o.a.createElement("img",{alt:"",src:"https://sun9-36.userapi.com/c855428/v855428451/19557b/ShBPy4P4oUg.jpg"})),o.a.createElement("div",{className:"hometop-near_first",onClick:function(){return a.goBiography()}},o.a.createElement("img",{alt:"",src:"https://sun9-30.userapi.com/c855032/v855032451/18b435/AOIWWbicH4c.jpg"})),o.a.createElement("div",{className:"hometop-near_two",onClick:function(){return a.goGenresGetBooks()}},o.a.createElement("img",{alt:"",src:"https://sun9-67.userapi.com/c205624/v205624451/5bb5/AuJna1I49IQ.jpg"})))):o.a.createElement(ne.a,{style:{height:"165px"}},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{marginLeft:"20px"},className:"hometop-near_first",onClick:function(){return a.goTop()}},o.a.createElement("img",{alt:"",src:"https://sun9-36.userapi.com/c855428/v855428451/19557b/ShBPy4P4oUg.jpg"})),o.a.createElement("div",{className:"hometop-near_first",onClick:function(){return a.Subscribe()}},o.a.createElement("img",{alt:"",src:"https://sun9-10.userapi.com/c855028/v855028451/19896c/_238YckPXho.jpg"})),o.a.createElement("div",{className:"hometop-near_first",onClick:function(){return a.goBiography()}},o.a.createElement("img",{alt:"",src:"https://sun9-30.userapi.com/c855032/v855032451/18b435/AOIWWbicH4c.jpg"})),o.a.createElement("div",{className:"hometop-near_first",onClick:function(){return a.goGenresGetBooks()}},o.a.createElement("img",{alt:"",src:"https://sun9-67.userapi.com/c205624/v205624451/5bb5/AuJna1I49IQ.jpg"})))):null,o.a.createElement("br",null),"0"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?o.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.books.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors[0].first_name," ",e.authors[0].last_name),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440:",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},e.name)}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}):null,"0"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?null:a.state.searchresult.authors.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),o.a.createElement("div",{className:"contentauthor"},e.activity),o.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ","ru"===e.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({authortitle:e.first_name,author_id_forshare:e.id,authorlast:e.last_name}),a.openModalAuthor(e.id)}},o.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}):null,"1"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?o.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors[0].first_name," ",e.authors[0].last_name),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440:",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},e.name)}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}):null,"2"===a.state.radio?a.state.searchQuery.length>=3?0===a.state.searchresult.length?o.a.createElement("div",{className:"errorsearch"},"\u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"):a.state.searchresult.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),o.a.createElement("div",{className:"contentauthor"},e.activity),o.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ","ru"===e.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({author_id_forshare:e.id,authortitle:e.first_name,authorlast:e.last_name}),a.openModalAuthor(e.id)}},o.a.createElement(re.a,null))))}):a.state.listbooks.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}):null,a.state.searchQuery.length>=1?null:a.state.listbooks_result.length>=10?o.a.createElement(X.a,null,o.a.createElement(z.a,{size:"xl",level:"secondary",onClick:function(){return a.LoadBooks_Load()},style:{marginRight:8}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451")):null))},ce=a(20),me=a.n(ce),ue=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return a.goBack()}},o.a.createElement(me.a,null))},"\u0410\u0432\u0442\u043e\u0440\u044b"),a.state.biography_array.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goAuthor(e.id)},alt:"",src:e.photo}),o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"content"},o.a.createElement("div",{onClick:function(){return a.goAuthor(e.id)},className:"contenttitle"},e.first_name," ",e.last_name),o.a.createElement("div",{className:"contentauthor"},e.activity),o.a.createElement("div",{className:"contentviews"},"\u042f\u0437\u044b\u043a: ","ru"===e.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({authortitle:e.first_name,authorlast:e.last_name,help_id:e.id}),a.setActiveModal("author")}},o.a.createElement(re.a,null))))}))},de=a(68),he=a.n(de),fe=a(133),pe=a.n(fe),ve=a(69),Ee=a.n(ve),ke=a(134),ge=a.n(ke),_e=a(135),be=a.n(_e);var ye=function(e){return o.a.createElement("div",{id:"body"},o.a.createElement("div",{id:"main"},o.a.createElement("span",{className:"spinner"})))},we=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return a.goBack()}},o.a.createElement(me.a,null))},"\u041a\u043d\u0438\u0433\u0430"),o.a.createElement("div",null,o.a.createElement("div",{className:"banner"},o.a.createElement("img",{alt:"",className:"banner__img",src:a.state.selected_book.cover})),o.a.createElement("div",{className:"titlebooksinfo"},a.state.selected_book.name),o.a.createElement("div",{className:"authorbooksinfo",onClick:function(){return a.goAuthor(a.state.id_author)}},a.state.selected_book.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name)})),o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("div",{className:"rating",style:{marginLeft:"13px"}},!1===a.state.is_rated?o.a.createElement("span",{className:"fidbacknone",onClick:function(){return a.setState({activeModal:"modals",commentforrezention_add:""})}},"\u043e\u0446\u0435\u043d\u0438\u0442\u044c"):null,o.a.createElement("span",{className:"raytingdal"},a.state.selected_book.rating),o.a.createElement("span",{className:"booksinfoview"},"(",a.state.selected_book.rated_count,")"),o.a.createElement("input",{type:"radio",id:"star5",className:"rating"}),o.a.createElement("label",{title:"Rocks!",style:a.state.selected_book.rating>=5?{color:"#fd7f10"}:null},"5 stars"),o.a.createElement("input",{type:"radio",id:"star4",className:"rating"}),o.a.createElement("label",{title:"Pretty good",style:a.state.selected_book.rating>=4?{color:"#fd7f10"}:null},"4 stars"),o.a.createElement("input",{type:"radio",id:"star3",className:"rating"}),o.a.createElement("label",{title:"Meh",style:a.state.selected_book.rating>=3?{color:"#fd7f10"}:null},"3 stars"),o.a.createElement("input",{type:"radio",id:"star2",className:"rating"}),o.a.createElement("label",{title:"Kinda bad",style:a.state.selected_book.rating>=2?{color:"#fd7f10"}:null},"2 stars"),o.a.createElement("input",{type:"radio",id:"star1",className:"rating"}),o.a.createElement("label",{title:"Sucks big time",style:a.state.selected_book.rating>=1?{color:"#fd7f10"}:null}))),o.a.createElement("div",{className:"nonamedivs"},o.a.createElement(z.a,{className:"normalbuttonfree",before:o.a.createElement(pe.a,null),onClick:function(){a.setState({popout:o.a.createElement(ye,null)}),a.getReaderBook(a.state.selected_book.source)}},"\u0427\u0438\u0442\u0430\u0442\u044c"),o.a.createElement(z.a,{className:"normalbuttontwo",onClick:function(){return a.setState({activeModal:"share_book",book_id_forshare:a.state.selected_book.id})}},o.a.createElement(be.a,null)),!0===a.state.is_favorite?o.a.createElement(z.a,{className:"normalbuttonone",onClick:function(){return a.deleteFavourite(a.state.selected_book.id)}},o.a.createElement(Ee.a,null)):o.a.createElement(z.a,{className:"normalbuttonone",onClick:function(){return a.addFavourite(a.state.selected_book.id)}},o.a.createElement(he.a,null))),o.a.createElement("div",null,o.a.createElement("div",{className:"titlebooksinfos"},"\u041e \u043a\u043d\u0438\u0433\u0435"),o.a.createElement("div",{className:"textforbooksinfo"},a.state.selected_book.annotation),o.a.createElement(z.a,{className:"fidbackcomment",before:o.a.createElement(ge.a,null),onClick:function(){return a.commentsGet(a.state.selected_book.id)}},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0438"))))},Ne="\u043d\u043e\u044f\u0431\u0440\u044f";var Se=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return a.goBack()}},o.a.createElement(me.a,null))},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0438"),0===a.state.selected_book_comments.count?o.a.createElement("div",{className:"errorcomments",style:{marginTop:"270px"}},'"\u0423\u043f\u0441, \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u0439 \u0435\u0449\u0435 \u043d\u0435\u0442!"'):null,a.state.selected_book_comments.items.map(function(e,t){return o.a.createElement(te.a,{href:"https://vk.com/id"+e.user.id,target:"blank",component:"a",key:t,size:"l",before:o.a.createElement($.a,{style:{marginTop:"5px"},size:55,src:e.user.photo_200})},o.a.createElement("div",{className:"namefa"},e.user.first_name," ",e.user.last_name),o.a.createElement("div",{className:"rating"},o.a.createElement("input",{type:"radio",id:"star5",className:"rating"}),o.a.createElement("label",{title:"Rocks!",style:e.rate>=5?{color:"#fd7f10"}:null},"5 stars"),o.a.createElement("input",{type:"radio",id:"star4",className:"rating"}),o.a.createElement("label",{title:"Pretty good",style:e.rate>=4?{color:"#fd7f10"}:null},"4 stars"),o.a.createElement("input",{type:"radio",id:"star3",className:"rating"}),o.a.createElement("label",{title:"Meh",style:e.rate>=3?{color:"#fd7f10"}:null},"3 stars"),o.a.createElement("input",{type:"radio",id:"star2",className:"rating"}),o.a.createElement("label",{title:"Kinda bad",style:e.rate>=2?{color:"#fd7f10"}:null},"2 stars"),o.a.createElement("input",{type:"radio",id:"star1",className:"rating"}),o.a.createElement("label",{title:"Sucks big time",style:e.rate>=1?{color:"#fd7f10"}:null})),o.a.createElement("div",{className:"commentstime"},new Date(1e3*e.date).getDate(),"\xa0",(0===(a=new Date(1e3*e.date).getMonth())&&(Ne="\u044f\u043d\u0432\u0430\u0440\u044f"),1===a&&(Ne="\u0444\u0435\u0432\u0440\u0430\u043b\u044f"),2===a&&(Ne="\u043c\u0430\u0440\u0442\u0430"),3===a&&(Ne="\u0430\u043f\u0440\u0435\u043b\u044f"),4===a&&(Ne="\u043c\u0430\u0439\u044f"),5===a&&(Ne="\u0438\u044e\u043d\u044f"),6===a&&(Ne="\u0438\u044e\u043b\u044f"),7===a&&(Ne="\u0430\u0432\u0433\u0443\u0441\u0442\u0430"),8===a&&(Ne="\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f"),9===a&&(Ne="\u043e\u043a\u0442\u044f\u0431\u0440\u044f"),10===a&&(Ne="\u043d\u043e\u044f\u0431\u0440\u044f"),void(11===a&&(Ne="\u0434\u0435\u043a\u0430\u0431\u0440\u044f"))),Ne,"\xa0",new Date(1e3*e.date).getFullYear(),"\xa0 (",new Date(1e3*e.date).getHours(),":",new Date(1e3*e.date).getMinutes(),")"),o.a.createElement("div",{className:"commentcom"},e.comment));var a}))},Ce=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return a.goBack()}},o.a.createElement(me.a,null))},a.state.author_info.last_name),o.a.createElement("div",{className:"anotherblock"},o.a.createElement("div",{className:"anotherinfo"},o.a.createElement("div",{className:"anothertitle"},a.state.author_info.first_name," ",a.state.author_info.middle_name),o.a.createElement("div",{className:"anotherbutton",onClick:function(){return a.setActiveModal("share_rezept")}},o.a.createElement("img",{className:"anotherbuttondown",src:"https://img.icons8.com/ios/50/000000/share.png",alt:""})),o.a.createElement("div",{className:"anotherannotation"},a.state.author_info.type),o.a.createElement("div",{className:"prostoline"}),o.a.createElement("div",{className:"anothermiddletext"},a.state.author_info.biography),o.a.createElement("div",{className:"prostoline"}),o.a.createElement("div",{className:"anotherblockforhard"},o.a.createElement("div",{className:"anotherhardinfo"},"\u0420\u043e\u0434\u0438\u043b\u0441\u044f: ",o.a.createElement("span",null,a.state.author_info.date_of_birth)),o.a.createElement("div",{className:"anotherhardinfo"},"\u0423\u043c\u0435\u0440: ",o.a.createElement("span",null,a.state.author_info.date_of_death)),o.a.createElement("div",{className:"anotherhardinfo"},"\u0413\u043e\u0434\u044b \u0442\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u0430: ",o.a.createElement("span",null,a.state.author_info.activity)),o.a.createElement("div",{className:"anotherhardinfo"},"\u042f\u0437\u044b\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439: ",o.a.createElement("span",null,"ru"===a.state.author_info.lang?"\u0440\u0443\u0441\u0441\u043a\u0438\u0439":"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439")),o.a.createElement("div",{className:"anotherhardinfo"},"\u041a\u043d\u0438\u0433\u0438 \u0430\u0432\u0442\u043e\u0440\u0430:"),a.state.author_info_result.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{style:{marginLeft:"-15px"},className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))})))))},Be=300,Ae=200,je=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onScroll=function(){a.toggleReturnButton(),window.pageYOffset<a.scroll||(clearTimeout(a.timeout),a.timeout=setTimeout(a.saveVisible,Be),a.scroll=window.pageYOffset)},a.isVisible=function(e){var t=e.getBoundingClientRect(),a=document.documentElement.clientHeight,n=t.top>0&&t.top<a,o=t.bottom<a&&t.bottom>0;return n||o},a.getVisibleIndex=function(){for(var e=document.getElementsByClassName("reader__body")[0].getElementsByTagName("p"),t=0;t<e.length;t++)if(a.isVisible(e[t]))return t;return 0},a.saveVisible=function(){var e=a.getVisibleIndex();if(0!==e){a.lastPosition=e;var t=a.props.this.state.selected_book.id;fetch("https://api.xelene.me/book/?method=book.savePosition&book_id="+t+"&position="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){console.log(t),console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044f - "+e)})}},a.getPositionTop=function(e){return e.getBoundingClientRect().top+window.pageYOffset-60},a.returnToPosition=function(){var e=a.returnPosition,t=document.getElementsByClassName("reader__body")[0].getElementsByTagName("p")[e],n=a.getPositionTop(t);window.scrollTo(0,n)},a.toggleReturnButton=function(){var e=a.returnPosition>0&&window.pageYOffset<Ae;a.setState({showReturnButton:e})},a.state={showReturnButton:!1},a.scroll=0,a.timeout=null,a.lastPosition=0,a.returnPosition=a.props.this.state.selected_book.position,a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.toggleReturnButton(),window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this;return o.a.createElement(U.a,{id:this.props.id},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return e.props.this.goBack()}},o.a.createElement(me.a,null))},"\u0427\u0442\u0435\u043d\u0438\u0435"),o.a.createElement("div",{className:"hard"},o.a.createElement("div",{className:"text"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.this.state.booktext}}))),this.state.showReturnButton&&o.a.createElement("div",{className:"reader__return-button",onClick:this.returnToPosition},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u0435"),!1===this.props.this.state.is_rated?o.a.createElement(X.a,null,o.a.createElement(z.a,{size:"xl",level:"secondary",style:{backgroundColor:"#00cbbe",color:"#ffffff"},stretched:!0,onClick:function(){return e.props.this.setState({activeModal:"modals",commentforrezention_add:""})}},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c")):null)}}]),t}(o.a.Component),Me=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return a.goBack()}},o.a.createElement(me.a,null))},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("br",null),0===a.state.booksfavorite_array.length&&0===a.state.bookshistory_array.length&&0===a.state.booksfavorite_array.length?o.a.createElement("div",{className:"errorprofile"},"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043a\u043d\u0438\u0433!"):null,0===a.state.booksfavorite_array.length?o.a.createElement("div",{style:{marginTop:"-35px"}}):o.a.createElement("div",{className:"history"},o.a.createElement("div",{className:"profile-title"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),o.a.createElement("br",null),a.state.booksfavorite_array.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}),o.a.createElement("br",null),0===a.state.bookshistory_array.length?null:o.a.createElement("div",{className:"history"},o.a.createElement("div",{className:"profile-title"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f ",o.a.createElement("img",{alt:"",onClick:function(){return a.deleteHistory()},className:"Iconin",src:"https://img.icons8.com/ios-filled/50/000000/broom.png"}))),a.state.bookshistory_array.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))})))},Fe=a(136),Pe=a.n(Fe),Oe=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){a.goBack(),Pe.a.init()}},o.a.createElement(me.a,null))},"\u0422\u043e\u043f \u043a\u043d\u0438\u0433"),a.state.bookstop.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,book_id_forshare:e.id,formodal_id:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}))},xe=function(e){var t=e.id,a=e.this;return o.a.createElement(U.a,{id:t},o.a.createElement(le.a,{left:o.a.createElement(B.a,{onClick:function(){return a.goBack()}},o.a.createElement(me.a,null))},"\u0416\u0430\u043d\u0440\u044b"),o.a.createElement(H.a,null,o.a.createElement(T.a,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440",onChange:function(e){a.goSelectGenres(e.target.value)}},a.state.result_genres.map(function(e,t){return o.a.createElement("option",{value:e.id,key:t},e.name)}))),0===a.state.books_genreresult.length?o.a.createElement("div",{className:"errorsearch"},"\u0412 \u0436\u0430\u043d\u0440\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043a\u043d\u0438\u0433\u0438"):a.state.books_genreresult.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{className:"allbooks"},o.a.createElement("img",{onClick:function(){return a.goBook(e.id)},alt:"",src:e.cover}),o.a.createElement("div",{onClick:function(){return a.goBook(e.id)},className:"content"},o.a.createElement("div",{className:"contenttitle"},e.name),o.a.createElement("div",{className:"contentreyt"},e.rating),o.a.createElement("div",{className:"contentauthorhome"},e.authors.map(function(e,t){return o.a.createElement("span",{key:t},e.first_name," ",e.last_name,"\xa0")})),o.a.createElement("div",{className:"contentviews"},"\u0416\u0430\u043d\u0440: ",e.genres.map(function(e,t){return o.a.createElement("span",{key:t},"\xa0",e.name,",")}),o.a.createElement("div",{className:"contentviews"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432: ",e.views))),o.a.createElement("div",{className:"bottonfunctions",onClick:function(){a.setState({formodal_title:e.name,formodal_id:e.id,book_id_forshare:e.id}),a.openModalSettings(e.id)}},o.a.createElement(re.a,null))))}))},Te=a(137),Ze=a.n(Te),We=a(95),Ve=a.n(We),ze=a(96),Qe=a.n(ze),Ie=a(97),Le=a.n(Ie),He=a(73),Ge=a.n(He),Re=a(242).parse(window.location.hash),Ke=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).goBack=function(){var t=Object(c.a)(e.state.history);t.pop();var a=t[t.length-1];"home"===a&&i.a.send("VKWebAppDisableSwipeBack"),e.setState({activeView:"home",activeModal:null}),e.setState({history:t,activePanel:a})},e.goForward=function(t){var a=Object(c.a)(e.state.history);a.push(t),"home"===e.state.activePanel&&i.a.send("VKWebAppEnableSwipeBack"),e.setState({history:a,activePanel:t})},e.go=function(t){e.setState({activeModal:null}),e.setState({activePanel:t.currentTarget.dataset.to}),window.history.pushState({panel:t.currentTarget.dataset.to},"".concat(t.currentTarget.dataset.to))},e.inputChange=function(t){clearTimeout(e.state.searchTimeout),e.setState({searchQuery:t.target.value,searchTimeout:setTimeout(e.search,650)})},e.search=function(){e.state.searchQuery.length>3&&fetch(e.state.api_url+"method=search.getResults&type="+e.state.radio+"&count="+e.state.sliderforsearch+"&q="+e.state.searchQuery+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({searchresult:t.response}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})},e.state={activePanel:"home",activeView:"home",popout:o.a.createElement(ye,null),api_url:"https://api.xelene.me/book/?",errorcodeforalert:"",helpnavigationg_array:"home",test:{},listbooks:[],authors_array:null,selected_book_authors_fist:"",selected_book_authors_two:"",selected_book:[],selected_book_authors:[],selected_book_comments:[],selected_book_comments_enter:[],searchresult:[],activeModal:null,modalHistory:[],help_id:0,formodal_title:"",formodal_id:1,is_favorite:!1,is_rated:!0,is_group_member:1,reyt:0,searchQuery:"",searchTimeout:0,commentforrezention_add:null,radio:"1",booktext:o.a.createElement("div",null),firstname:"\u0418\u043c\u044f",lastname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",photo_200:null,biography_array:[],authortitle:"\u0410\u0432\u0442\u043e\u0440",authorlast:"\u0410\u0432\u0442\u043e\u0440",bookstop:[],author_info:[],author_info_result:[],authorbooks:[],id_author:1,genre_name:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430",books_genreresult:[],genre_id:1,history:["home"],bookhistory:null,bookfavorite:null,bookshistory_array:[],booksfavorite_array:[],favorite_array:[],history_array:[],favoritelength:[],historylenght:[],sliderforsearch:40,offset_home:10,listbooks_result:[],size:0,size_two:0,book_id_forshare:0,author_id_forshare:0},e.closePopout=e.closePopout.bind(Object(p.a)(Object(p.a)(e))),e.Subscribe=e.Subscribe.bind(Object(p.a)(Object(p.a)(e))),e.modalBack=function(){e.setActiveModal(e.state.modalHistory[e.state.modalHistory.length-2])},e.goBack=e.goBack.bind(Object(p.a)(Object(p.a)(e))),e.goForward=e.goForward.bind(Object(p.a)(Object(p.a)(e))),e.onCommentChange=e.onCommentChange.bind(Object(p.a)(Object(p.a)(e))),e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"menu",value:function(e){e.state?(this.setState({activeModal:null,searchQuery:""}),this.setState({activePanel:e.state.panel})):(this.setState({activeModal:null,searchQuery:""}),this.setState({activePanel:"home",search:""}),window.history.pushState({panel:"home"},"home"))}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(c.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",function(t){return t.preventDefault()&e.menu(t)}),window.history.pushState({panel:"home"},"home"),i.a.send("VKWebAppGetUserInfo",{}),i.a.subscribe(function(t){var a=t.detail,n=a.type,o=a.data;"VKWebAppGetUserInfoResult"===n?e.setState({firstname:o.first_name,lastname:o.last_name,timezone:o.timezone,photo_200:o.photo_200}):"VKWebAppGetUserInfoFailed"===n&&(e.setState({errorcodeforalert:"\u0417\u0430\u0439\u0434\u0438\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435!"}),e.showZaprosFailedAun())}),void 0===Re.book_id||this.goBook(Re.book_id),fetch(this.state.api_url+"method=account.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({is_group_member:t.response.is_group_member,favoritelength:t.response.favorite,historylenght:t.response.books_history})}),this.LoadBooks(),i.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark",action_bar_color:"#fff"})}},{key:"Subscribe",value:function(){this.setState({is_group_member:0}),i.a.send("VKWebAppJoinGroup",{group_id:183054783})}},{key:"LoadBooks",value:function(){var e=this;fetch(this.state.api_url+"method=books.get&offset=0&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({listbooks:t.response,listbooks_result:t.response,popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())})}},{key:"LoadBooks_Load",value:function(){var e=this;this.setState({popout:o.a.createElement(ye,null)}),this.setState({offset_home:this.state.offset_home+10}),fetch(this.state.api_url+"method=books.get&offset="+this.state.offset_home+"&count=10&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){var a=e.state.listbooks.concat(t.response);t.response?e.setState({listbooks:a,listbooks_result:t.response,popout:null}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())})}},{key:"goBiography",value:function(){var e=this;fetch(this.state.api_url+"method=authors.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?(window.history.pushState({panel:"biography"},"biography"),e.setState({activePanel:"biography",history:[].concat(Object(c.a)(e.state.history),["biography"]),biography_array:t.response})):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),e.showZaprosFailedAun()})}},{key:"goTop",value:function(){var e=this;this.setState({popout:o.a.createElement(ye,null),activeModal:null}),fetch(this.state.api_url+"method=books.getTop&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?(window.history.pushState({panel:"top"},"top"),e.setState({activePanel:"top",popout:null,bookstop:t.response,history:[].concat(Object(c.a)(e.state.history),["top"])})):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})}},{key:"addFavourite",value:function(e){var t=this;this.setState({popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=favorite.add&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({popout:null,is_favorite:!0}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"deleteFavourite",value:function(e){var t=this;this.setState({popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=favorite.delete&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({popout:null,is_favorite:!1}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"ShareBookToWall",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShowWallPostBox",{message:"vk.com/books_app#book_id="+this.state.book_id_forshare,attachments:"vk.com/books_app"})}},{key:"ShareBookToMessage",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShare",{link:"https://vk.com/books_app#book_id="+this.state.book_id_forshare})}},{key:"ShareAuthorToWall",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShowWallPostBox",{message:"vk.com/books_app#author_id="+this.state.author_id_forshare,attachments:"vk.com/books_app"})}},{key:"ShareAuthorToMessage",value:function(){this.setState({activeModal:null}),i.a.send("VKWebAppShare",{link:"https://vk.com/books_app#author_id="+this.state.author_id_forshare})}},{key:"goBook",value:function(e){var t=this;this.setState({activeModal:null,popout:o.a.createElement(ye,null),size:window.pageYOffset,size_two:document.documentElement.clientWidth}),fetch(this.state.api_url+"method=book.getById&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response&&(window.history.pushState({panel:"bookinfo"},"bookinfo"),t.setState({selected_book:e.response,popout:null,activePanel:"bookinfo",history:[].concat(Object(c.a)(t.state.history),["bookinfo"])}),t.setState({selected_book_authors:t.state.selected_book.authors}),t.setState({selected_book_authors_fist:t.state.selected_book_authors[0].first_name,selected_book_authors_two:t.state.selected_book_authors[0].last_name}),t.setState({is_favorite:t.state.selected_book.is_favorite}),t.setState({is_rated:t.state.selected_book.is_rated,id_author:e.response.authors[0].id}))}).catch(function(e){t.showZaprosFailedAun()})}},{key:"goGenresGetBooks",value:function(){var e=this;this.setState({popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=genres.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?(e.goSelectGenres(1),window.history.pushState({panel:"genre"},"genre"),e.setState({result_genres:t.response,activePanel:"genre",history:[].concat(Object(c.a)(e.state.history),["genre"]),popout:null})):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),e.showZaprosFailedAun()})}},{key:"goSelectGenres",value:function(e){var t=this;this.setState({popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=books.getByGenre&genre_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({books_genreresult:e.response,popout:null}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()})}},{key:"goAuthor",value:function(e){var t=this;this.setState({activeModal:null,popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=books.getByAuthor&author_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({author_info_result:e.response}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.setState({errorcodeforalert:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"}),t.showZaprosFailedAun()}),fetch(this.state.api_url+"method=author_getById&author_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(window.history.pushState({panel:"authorinfo"},"authorinfo"),t.setState({author_info:e.response,activePanel:"authorinfo",popout:null,history:[].concat(Object(c.a)(t.state.history),["authorinfo"])})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"getProfile",value:function(){var e=this;fetch(this.state.api_url+"method=account.get&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response&&(window.history.pushState({panel:"profile"},"profile"),e.setState({is_group_member:t.response.is_group_member,favorite_array:t.response.favorite,history_array:t.response.books_history,activePanel:"profile",history:[].concat(Object(c.a)(e.state.history),["profile"]),historylenght:t.response.books_history,favoritelength:t.response.favorite})),e.getBooksForProfileHistory(),e.getBooksForProfileFavorite()})}},{key:"getBooksForProfileHistory",value:function(){var e=this;fetch(this.state.api_url+"method=books.getByIds&book_ids="+this.state.history_array.join()+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({bookshistory_array:t.response})}).catch(function(t){e.showZaprosFailedAun()})}},{key:"getBooksForProfileFavorite",value:function(){var e=this;fetch(this.state.api_url+"method=books.getByIds&book_ids="+this.state.favorite_array.join()+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){e.setState({booksfavorite_array:t.response})}).catch(function(t){e.showZaprosFailedAun()})}},{key:"commentsGet",value:function(e){var t=this;this.setState({popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=comments.get&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?(window.history.pushState({panel:"bookscomment"},"bookscomment"),t.setState({selected_book_comments:e.response}),t.setState({popout:null,activePanel:"bookscomment",helpnavigation_array:"bookinfo",history:[].concat(Object(c.a)(t.state.history),["bookscomment"])})):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"commentsAdd",value:function(e){var t=this;this.setState({popout:o.a.createElement(ye,null)}),this.setState({activeModal:null}),0===this.state.reyt?(this.setState({errorcodeforalert:"\u041d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443!"}),this.showZaprosFailedAun()):fetch(this.state.api_url+"method=comment.add&book_id="+e+"&rate="+this.state.reyt+"&comment="+this.state.commentforrezention_add+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){e.response?t.setState({activeModal:null,popout:null,is_rated:!0}):(t.setState({errorcodeforalert:e.error.message}),t.showZaprosFailedAun())}).catch(function(e){t.showZaprosFailedAun()})}},{key:"deleteHistory",value:function(){var e=this;this.setState({popout:o.a.createElement(g.a,{actionsLayout:"vertical",actions:[{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",autoclose:!0,action:function(){return e.ClearHistory()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},o.a.createElement("h2",null,"\u0423\u0432\u0435\u0440\u0435\u043d?"),o.a.createElement("p",null,"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e?"))})}},{key:"ClearHistory",value:function(){var e=this;this.setState({popout:o.a.createElement(ye,null)}),fetch(this.state.api_url+"method=history.clear&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(t){t.response?e.setState({popout:null,historylenght:[],bookshistory_array:[]}):(e.setState({errorcodeforalert:t.error.message}),e.showZaprosFailedAun())}).catch(function(t){e.showZaprosFailedAun()})}},{key:"showZaprosFailedAun",value:function(){this.setState({popout:o.a.createElement(g.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},o.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),o.a.createElement("p",null,this.state.errorcodeforalert))})}},{key:"closePopout",value:function(){this.setState({popout:null})}},{key:"options",value:function(){for(var e=[],t=0;t<=100;t+=1)e.push(o.a.createElement("option",{value:"".concat(t/10),key:"".concat(t)},t/10));return e}},{key:"getReaderBook",value:function(e){var t=this;this.setState({popout:o.a.createElement(ye,null)});var a=e,n=new XMLHttpRequest;n.open("GET",a,!0),n.send(),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=n.responseText;window.history.pushState({panel:"reader"},"reader"),t.setState({booktext:e,activePanel:"reader",history:[].concat(Object(c.a)(t.state.history),["reader"])}),setTimeout(function(){return t.setState({popout:null})},1e3)}},n.onerror=function(e){console.error(e)}}},{key:"onCommentChange",value:function(e){this.setState({commentforrezention_add:e.target.value})}},{key:"openModalSettings",value:function(e){var t=this;fetch(this.state.api_url+"method=book.isFavorite&book_id="+e+"&"+window.location.search.replace("?","")).then(function(e){return e.json()}).then(function(e){t.setState({activeModal:"modal",is_favorite:e.response})}).catch(function(e){t.setState({errorcodeforalert:"\u0423\u043f\u0441. \u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}),t.showZaprosFailedAun()})}},{key:"openModalAuthor",value:function(){this.setState({activeModal:"author"})}},{key:"render",value:function(){var e=this,t=o.a.createElement(b.a,{activeModal:this.state.activeModal},o.a.createElement(w.a,{id:"author",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},this.state.authortitle," ",this.state.authorlast)},o.a.createElement(j.a,null,o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Qe.a,null),onClick:function(){return e.setActiveModal("share_rezept")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Ve.a,null),onClick:function(){return e.goAuthor(e.state.help_id)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))),o.a.createElement(w.a,{id:"search",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},"\u0424\u0438\u043b\u044c\u0442\u0440")},o.a.createElement(H.a,null,o.a.createElement("div",null,"0"===this.state.radio?o.a.createElement(F.a,{name:"radio",value:"0",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"):o.a.createElement(F.a,{name:"radio",value:"0",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0438\u0441\u043a"),"1"===this.state.radio?o.a.createElement(F.a,{name:"radio",value:"1",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043d\u0438\u0433\u0430\u043c"):o.a.createElement(F.a,{name:"radio",value:"1",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043d\u0438\u0433\u0430\u043c"),"2"===this.state.radio?o.a.createElement(F.a,{name:"radio",value:"2",defaultChecked:!0,onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0430\u043c"):o.a.createElement(F.a,{name:"radio",value:"2",onChange:function(t){e.setState({searchQuery:"",searchresult:[],radio:t.target.value})}},"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0432\u0442\u043e\u0440\u0430\u043c"),o.a.createElement("div",{className:"modalsettingsserach"},"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043e (\u043a\u043d\u0438\u0433/\u0430\u0432\u0442\u043e\u0440\u043e\u0432): ",String(this.state.sliderforsearch)),o.a.createElement(D.a,{step:1,min:1,max:100,value:Number(this.state.sliderforsearch),onChange:function(t){return e.setState({sliderforsearch:t})}}),o.a.createElement("br",null),o.a.createElement("br",null)))),o.a.createElement(w.a,{id:"modals",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0413\u043e\u0442\u043e\u0432\u043e")},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u044f")},o.a.createElement(H.a,null,o.a.createElement(I.a,{top:"\u041c\u043e\u0436\u0435\u0448\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c, \u0447\u0442\u043e \u0445\u043e\u0447\u0435\u0448\u044c"},o.a.createElement(T.a,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443",onChange:function(t){e.setState({reyt:t.target.value})}},o.a.createElement("option",{value:"1"},"1"),o.a.createElement("option",{value:"2"},"2"),o.a.createElement("option",{value:"3"},"3"),o.a.createElement("option",{value:"4"},"4"),o.a.createElement("option",{value:"5"},"5"))),o.a.createElement(I.a,{maxLength:"2000",top:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},o.a.createElement(W.a,{placeholder:"\u0422\u0443\u0442 \u043d\u0430\u043f\u0438\u0448\u0438 \u0441\u0432\u043e\u044e \u0440\u0435\u0446\u0435\u043d\u0437\u0438\u044e, \u043d\u043e \u043f\u043e\u043c\u043d\u0438 - \u043e\u043d\u0430 \u0432\u0438\u0434\u0435\u043d \u0432\u0441\u0435\u043c!",value:this.state.commentforrezention_add,onChange:this.onCommentChange})),o.a.createElement(I.a,null,o.a.createElement(z.a,{className:"modalfidback",size:"xl",level:"secondary",before:o.a.createElement(Ze.a,null),onClick:function(){return e.commentsAdd(e.state.selected_book.id)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))),o.a.createElement(w.a,{id:"modal",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},this.state.formodal_title)},o.a.createElement(j.a,null,!0===this.state.is_favorite?o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Ee.a,null),onClick:function(){return e.deleteFavourite(e.state.formodal_id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"):o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(he.a,null),onClick:function(){return e.addFavourite(e.state.formodal_id)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Qe.a,null),onClick:function(){return e.setActiveModal("share_book")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Ve.a,null),onClick:function(){return e.goBook(e.state.formodal_id)}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"))),o.a.createElement(w.a,{id:"share_book",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Ge.a,null),onClick:function(){return e.ShareBookToWall()}},"\u041d\u0430 \u0441\u0442\u0435\u043d\u0443"),o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Le.a,null),onClick:function(){return e.ShareBookToMessage()}},"\u0412 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),o.a.createElement(w.a,{id:"settings_reader",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Ge.a,null),onClick:function(){e.setState({popout:o.a.createElement(ye,null),activeModal:null}),e.getVisibleIndex()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),o.a.createElement(w.a,{id:"share_rezept",onClose:this.modalBack,header:o.a.createElement(S.a,{right:o.a.createElement(B.a,{onClick:this.modalBack},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")},o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Ge.a,null),onClick:function(){return e.ShareAuthorToWall()}},"\u041d\u0430 \u0441\u0442\u0435\u043d\u0443"),o.a.createElement(O.a,{style:{userSelect:"none"},before:o.a.createElement(Le.a,null),onClick:function(){return e.ShareAuthorToMessage()}},"\u0412 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")));return o.a.createElement(R.a,{isWebView:!0,scheme:"bright_light"},o.a.createElement(E.a,{id:"home",activePanel:this.state.activePanel,popout:this.state.popout,header:!0,modal:t,onSwipeBack:this.goBack,history:this.state.history},o.a.createElement(ie,{id:"home",go:this.go,this:this}),o.a.createElement(Me,{id:"profile",go:this.go,this:this}),o.a.createElement(ue,{id:"biography",go:this.go,this:this}),o.a.createElement(Oe,{id:"top",go:this.go,this:this}),o.a.createElement(xe,{id:"genre",go:this.go,this:this}),o.a.createElement(we,{id:"bookinfo",go:this.go,this:this}),o.a.createElement(we,{id:"bookinfos",go:this.go,this:this}),o.a.createElement(Ce,{id:"authorinfo",go:this.go,this:this}),o.a.createElement(Se,{id:"bookscomment",go:this.go,this:this}),o.a.createElement(je,{id:"reader",go:this.go,this:this})))}}]),t}(o.a.Component);i.a.send("VKWebAppInit",{}),s.a.render(o.a.createElement(Ke,null),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.f886adcd.chunk.js.map